{"version":3,"file":"wind-core.cjs.js","sources":["../src/utils.ts","../src/Vector.ts","../src/Field.ts","../src/index.ts"],"sourcesContent":["import Field from './Field';\nimport type { IField } from './Field';\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nconst symToStringTag =\n  typeof Symbol !== 'undefined' ? Symbol.toStringTag : undefined;\n\nfunction baseGetTag(value: any) {\n  if (value === null) {\n    return value === undefined ? '[object Undefined]' : '[object Null]';\n  }\n  if (!(symToStringTag && symToStringTag in Object(value))) {\n    return toString.call(value);\n  }\n  const isOwn = hasOwnProperty.call(value, symToStringTag);\n  const tag = value[symToStringTag];\n  let unmasked = false;\n  try {\n    value[symToStringTag] = undefined;\n    unmasked = true;\n  } catch (e) {}\n\n  const result = Object.prototype.toString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport function TypeOf(value: any) {\n  return Object.prototype.toString\n    .call(value)\n    .slice(8, -1)\n    .toLowerCase();\n}\n\n/**\n * 判断是否为函数\n * @param value\n * @returns {boolean}\n */\nexport function isFunction(value: any): boolean {\n  if (!isObject(value)) {\n    return false;\n  }\n  const tag = baseGetTag(value);\n  return (\n    tag === '[object Function]' ||\n    tag === '[object AsyncFunction]' ||\n    tag === '[object GeneratorFunction]' ||\n    tag === '[object Proxy]'\n  );\n}\n\n/**\n * 判断是否为对象\n * @param value\n * @returns {boolean}\n */\nexport function isObject(value: any) {\n  const type = typeof value;\n  return value !== null && (type === 'object' || type === 'function');\n}\n\n/**\n * is date value\n * @param val\n * @returns {boolean}\n */\nexport function isDate(val: any) {\n  return Object.prototype.toString.call(val) === '[object Date]';\n}\n\n/**\n * is array buffer\n * @param val\n * @returns {boolean}\n */\nexport function isArrayBuffer(val: any) {\n  return Object.prototype.toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * 判断是否为合法字符串\n * @param value\n * @returns {boolean}\n */\nexport function isString(value: any): boolean {\n  if (value == null) {\n    return false;\n  }\n  return (\n    typeof value === 'string' ||\n    (value.constructor !== null && value.constructor === String)\n  );\n}\n\n/**\n * 判断是否为数字\n * @param value\n * @returns {boolean}\n */\nexport function isNumber(value: any) {\n  return (\n    Object.prototype.toString.call(value) === '[object Number]' && !isNaN(value)\n  );\n}\n\n/**\n * 判断对象是否为空\n * @param object\n * @returns {boolean}\n */\nexport function isEmpty(object: {}) {\n  let property;\n  for (property in object) {\n    return false;\n  }\n  return !property;\n}\n\n/**\n * 判断是否为 `null`\n * @param obj\n * @returns {boolean}\n */\nexport function isNull(obj: any) {\n  return obj == null;\n}\n\n/**\n * 判断是否是数组\n * @param arr\n */\nexport function isArray(arr: any): boolean {\n  return Array.isArray(arr);\n}\n\n/**\n * assign object\n * @param target\n * @param sources\n */\nexport function assign(target: object, ...sources: any[]) {\n  return Object.assign(target, ...sources);\n}\n\n/**\n * 打印⚠️信息\n * @param msg\n * @param n\n */\nexport function warnLog(msg: string, n?: string) {\n  console.warn(`${n || 'wind-layer'}: ${msg}`);\n}\n\nconst warnings = {};\n\n/**\n * 在程序运行时只打印同类型警告一次\n * @param namespaces\n * @param msg\n */\nexport function warnOnce(namespaces: string, msg: string) {\n  if (!warnings[msg]) {\n    warnLog(msg, namespaces);\n    warnings[msg] = true;\n  }\n}\n\n/**\n * Get floored division\n * @param a\n * @param n\n * @returns {Number} returns remainder of floored division,\n * i.e., floor(a / n). Useful for consistent modulo of negative numbers.\n * See http://en.wikipedia.org/wiki/Modulo_operation.\n */\nexport function floorMod(a: number, n: number) {\n  return a - n * Math.floor(a / n);\n}\n\n/**\n * 检查值是否合法\n * @param val\n * @returns {boolean}\n */\nexport function isValide(val: any) {\n  return val !== undefined && val !== null && !isNaN(val);\n}\n\nexport interface IGFSItem {\n  header: {\n    parameterCategory: number | string;\n    parameterNumber: number | string;\n    dx: number;\n    dy: number;\n    nx: number;\n    ny: number;\n    lo1: number;\n    lo2: number;\n    la1: number;\n    la2: number;\n    [key: string]: any;\n  };\n  data: number[];\n}\n\n/**\n * format gfs json to vector\n * @param data\n * @param options\n */\nexport function formatData(data: IGFSItem[], options: Partial<IField> = {}) {\n  let uComp: IGFSItem = undefined as unknown as IGFSItem;\n  let vComp: IGFSItem = undefined as unknown as IGFSItem;\n\n  if ((process.env.NODE_ENV as string) === ('development' as string)) {\n    console.time('format-data');\n  }\n\n  data.forEach(function(record: IGFSItem) {\n    switch (\n      record.header.parameterCategory +\n      ',' +\n      record.header.parameterNumber\n    ) {\n      case '1,2':\n      case '2,2':\n        uComp = record;\n        break;\n      case '1,3':\n      case '2,3':\n        vComp = record;\n        break;\n    }\n  });\n\n  if (!vComp || !uComp) {\n    return undefined;\n  }\n\n  const header = uComp.header;\n  const vectorField = new Field({\n    xmin: header.lo1, // 一般格点数据是按照矩形范围来切割，所以定义其经纬度范围\n    ymin: header.la1,\n    xmax: header.lo2,\n    ymax: header.la2,\n    deltaX: header.dx, // x（经度）增量\n    deltaY: header.dy, // y（维度）增量\n    cols: header.nx, // 列（可由 `(xmax - xmin) / deltaX` 得到）\n    rows: header.ny, // 行\n    us: uComp.data, // U分量\n    vs: vComp.data, // V分量\n    ...options,\n  });\n\n  if ((process.env.NODE_ENV as string) === ('development' as string)) {\n    console.timeEnd('format-data');\n  }\n\n  return vectorField;\n}\n\n/**\n * create canvas\n * @param width\n * @param height\n * @param retina\n * @param Canvas\n * @returns {HTMLCanvasElement}\n */\nexport function createCanvas(\n  width: number,\n  height: number,\n  retina: number,\n  Canvas?: any,\n): HTMLCanvasElement {\n  if (typeof document !== 'undefined') {\n    const canvas = document.createElement('canvas');\n    canvas.width = width * retina;\n    canvas.height = height * retina;\n    return canvas;\n  } else {\n    // create a new canvas instance in node.js\n    // the canvas class needs to have a default constructor without any parameter\n    return new Canvas(width * retina, height * retina);\n  }\n}\n\n/**\n * 移除 dom\n * @param node\n * @returns {removeDomNode}\n */\nexport function removeDomNode(node: HTMLElement | HTMLCanvasElement) {\n  if (!node) {\n    return null;\n  }\n  if (node.parentNode) {\n    node.parentNode.removeChild(node);\n  }\n  return node;\n}\n\nconst keyword = /(\\D+)/;\nconst hex = /^#([a-f0-9]{6})([a-f0-9]{2})?$/i;\n// eslint-disable-next-line no-useless-escape\nconst rgba = /^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\nconst colorNames: {\n  [key: string]: number[];\n} = {\n  aliceblue: [240, 248, 255],\n  antiquewhite: [250, 235, 215],\n  aqua: [0, 255, 255],\n  aquamarine: [127, 255, 212],\n  azure: [240, 255, 255],\n  beige: [245, 245, 220],\n  bisque: [255, 228, 196],\n  black: [0, 0, 0],\n  blanchedalmond: [255, 235, 205],\n  blue: [0, 0, 255],\n  blueviolet: [138, 43, 226],\n  brown: [165, 42, 42],\n  burlywood: [222, 184, 135],\n  cadetblue: [95, 158, 160],\n  chartreuse: [127, 255, 0],\n  chocolate: [210, 105, 30],\n  coral: [255, 127, 80],\n  cornflowerblue: [100, 149, 237],\n  cornsilk: [255, 248, 220],\n  crimson: [220, 20, 60],\n  cyan: [0, 255, 255],\n  darkblue: [0, 0, 139],\n  darkcyan: [0, 139, 139],\n  darkgoldenrod: [184, 134, 11],\n  darkgray: [169, 169, 169],\n  darkgreen: [0, 100, 0],\n  darkgrey: [169, 169, 169],\n  darkkhaki: [189, 183, 107],\n  darkmagenta: [139, 0, 139],\n  darkolivegreen: [85, 107, 47],\n  darkorange: [255, 140, 0],\n  darkorchid: [153, 50, 204],\n  darkred: [139, 0, 0],\n  darksalmon: [233, 150, 122],\n  darkseagreen: [143, 188, 143],\n  darkslateblue: [72, 61, 139],\n  darkslategray: [47, 79, 79],\n  darkslategrey: [47, 79, 79],\n  darkturquoise: [0, 206, 209],\n  darkviolet: [148, 0, 211],\n  deeppink: [255, 20, 147],\n  deepskyblue: [0, 191, 255],\n  dimgray: [105, 105, 105],\n  dimgrey: [105, 105, 105],\n  dodgerblue: [30, 144, 255],\n  firebrick: [178, 34, 34],\n  floralwhite: [255, 250, 240],\n  forestgreen: [34, 139, 34],\n  fuchsia: [255, 0, 255],\n  gainsboro: [220, 220, 220],\n  ghostwhite: [248, 248, 255],\n  gold: [255, 215, 0],\n  goldenrod: [218, 165, 32],\n  gray: [128, 128, 128],\n  green: [0, 128, 0],\n  greenyellow: [173, 255, 47],\n  grey: [128, 128, 128],\n  honeydew: [240, 255, 240],\n  hotpink: [255, 105, 180],\n  indianred: [205, 92, 92],\n  indigo: [75, 0, 130],\n  ivory: [255, 255, 240],\n  khaki: [240, 230, 140],\n  lavender: [230, 230, 250],\n  lavenderblush: [255, 240, 245],\n  lawngreen: [124, 252, 0],\n  lemonchiffon: [255, 250, 205],\n  lightblue: [173, 216, 230],\n  lightcoral: [240, 128, 128],\n  lightcyan: [224, 255, 255],\n  lightgoldenrodyellow: [250, 250, 210],\n  lightgray: [211, 211, 211],\n  lightgreen: [144, 238, 144],\n  lightgrey: [211, 211, 211],\n  lightpink: [255, 182, 193],\n  lightsalmon: [255, 160, 122],\n  lightseagreen: [32, 178, 170],\n  lightskyblue: [135, 206, 250],\n  lightslategray: [119, 136, 153],\n  lightslategrey: [119, 136, 153],\n  lightsteelblue: [176, 196, 222],\n  lightyellow: [255, 255, 224],\n  lime: [0, 255, 0],\n  limegreen: [50, 205, 50],\n  linen: [250, 240, 230],\n  magenta: [255, 0, 255],\n  maroon: [128, 0, 0],\n  mediumaquamarine: [102, 205, 170],\n  mediumblue: [0, 0, 205],\n  mediumorchid: [186, 85, 211],\n  mediumpurple: [147, 112, 219],\n  mediumseagreen: [60, 179, 113],\n  mediumslateblue: [123, 104, 238],\n  mediumspringgreen: [0, 250, 154],\n  mediumturquoise: [72, 209, 204],\n  mediumvioletred: [199, 21, 133],\n  midnightblue: [25, 25, 112],\n  mintcream: [245, 255, 250],\n  mistyrose: [255, 228, 225],\n  moccasin: [255, 228, 181],\n  navajowhite: [255, 222, 173],\n  navy: [0, 0, 128],\n  oldlace: [253, 245, 230],\n  olive: [128, 128, 0],\n  olivedrab: [107, 142, 35],\n  orange: [255, 165, 0],\n  orangered: [255, 69, 0],\n  orchid: [218, 112, 214],\n  palegoldenrod: [238, 232, 170],\n  palegreen: [152, 251, 152],\n  paleturquoise: [175, 238, 238],\n  palevioletred: [219, 112, 147],\n  papayawhip: [255, 239, 213],\n  peachpuff: [255, 218, 185],\n  peru: [205, 133, 63],\n  pink: [255, 192, 203],\n  plum: [221, 160, 221],\n  powderblue: [176, 224, 230],\n  purple: [128, 0, 128],\n  rebeccapurple: [102, 51, 153],\n  red: [255, 0, 0],\n  rosybrown: [188, 143, 143],\n  royalblue: [65, 105, 225],\n  saddlebrown: [139, 69, 19],\n  salmon: [250, 128, 114],\n  sandybrown: [244, 164, 96],\n  seagreen: [46, 139, 87],\n  seashell: [255, 245, 238],\n  sienna: [160, 82, 45],\n  silver: [192, 192, 192],\n  skyblue: [135, 206, 235],\n  slateblue: [106, 90, 205],\n  slategray: [112, 128, 144],\n  slategrey: [112, 128, 144],\n  snow: [255, 250, 250],\n  springgreen: [0, 255, 127],\n  steelblue: [70, 130, 180],\n  tan: [210, 180, 140],\n  teal: [0, 128, 128],\n  thistle: [216, 191, 216],\n  tomato: [255, 99, 71],\n  turquoise: [64, 224, 208],\n  violet: [238, 130, 238],\n  wheat: [245, 222, 179],\n  white: [255, 255, 255],\n  whitesmoke: [245, 245, 245],\n  yellow: [255, 255, 0],\n  yellowgreen: [154, 205, 50],\n};\n\nexport function getColor(string: string) {\n  let rgb: any[] = [];\n\n  if (string.match(hex)) {\n    let match = string.match(hex);\n\n    if (match !== null) {\n      // @ts-ignore\n      match = match[1];\n\n      for (let i = 0; i < 3; i++) {\n        // https://jsperf.com/slice-vs-substr-vs-substring-methods-long-string/19\n        const i2 = i * 2;\n        // @ts-ignore\n        rgb[i] = parseInt(match.slice(i2, i2 + 2), 16);\n      }\n\n      rgb[3] = 1;\n    }\n  } else if (string.match(rgba)) {\n    const match = string.match(rgba);\n    for (let i = 0; i < 3; i++) {\n      // @ts-ignore\n      rgb[i] = parseInt(match[i + 1], 0);\n    }\n\n    // @ts-ignore\n    if (match[4]) {\n      // @ts-ignore\n      rgb[3] = parseFloat(match[4]);\n    } else {\n      rgb[3] = 1;\n    }\n  } else if (string.match(keyword)) {\n    const match = string.match(keyword);\n    // @ts-ignore\n    if (match[1] === 'transparent') {\n      return [0, 0, 0, 0];\n    }\n    // @ts-ignore\n    rgb = colorNames[match[1]];\n    if (!rgb) {\n      return null;\n    }\n    rgb[3] = 1;\n    return rgb;\n  } else {\n    return null;\n  }\n\n  return rgb;\n}\n","export default class Vector {\n  public u: number;\n  public v: number;\n  public m: number;\n\n  constructor(u: number, v: number) {\n    this.u = u;\n    this.v = v;\n\n    this.m = this.magnitude();\n  }\n\n  /**\n   * 向量值（这里指风速）\n   * @returns {Number}\n   */\n  public magnitude() {\n    return Math.sqrt(this.u ** 2 + this.v ** 2);\n  }\n\n  /**\n   * 流体方向 （这里指风向，范围为0-360º）\n   * N is 0º and E is 90º\n   * @returns {Number}\n   */\n  public directionTo() {\n    const verticalAngle = Math.atan2(this.u, this.v);\n    let inDegrees = verticalAngle * (180.0 / Math.PI);\n    if (inDegrees < 0) {\n      inDegrees += 360.0;\n    }\n    return inDegrees;\n  }\n\n  /**\n   * Angle in degrees (0 to 360º) From x-->\n   * N is 0º and E is 90º\n   * @returns {Number}\n   */\n  public directionFrom() {\n    const a = this.directionTo();\n    return (a + 180.0) % 360.0;\n  }\n}\n","import {floorMod, warnOnce} from './utils';\nimport Vector from './Vector';\n\nexport interface IField {\n  /* 一般格点数据是按照矩形范围来切割，所以定义其经纬度范围 */\n  xmin: number; // 经度最小值\n  ymin: number; // 纬度最小值\n  xmax: number; // 经度最大值\n  ymax: number; // 纬度最大值\n  deltaX: number; // x（经度）增量\n  deltaY: number; // y（纬度）增量 (默认我们采用的数据和格点原始数据方向保持一致，数据从左上到右下) 但是需要注意的是此时 deltaY为 -(ymax-ymin) / rows\n  cols: number; // 列（可由 `(xmax - xmin) / deltaX` 得到）\n  rows: number; // 行\n  us: number[]; // U分量\n  vs: number[]; // V分量\n  flipY?: boolean; // 因为grib2json的问题，我们需要翻转 Y 轴数据\n  wrapX?: boolean; // 是否实现跨世界渲染\n  wrappedX?: boolean; // 当数据范围时按照 [0, 360] 时需要对x方向进行切割转换为 [-180, 180]，即将废弃\n  translateX?: boolean; // 当数据范围时按照 [0, 360] 时需要对x方向进行切割转换为 [-180, 180]\n}\n\n/**\n *\n */\nexport interface IPosition {\n  age?: number;\n  x?: number;\n  y?: number;\n  xt?: number;\n  yt?: number;\n  m?: number;\n}\n\nexport default class Field {\n  private readonly xmin: number;\n  private readonly xmax: number;\n  private readonly ymin: number;\n  private readonly ymax: number;\n  private readonly cols: number;\n  private readonly rows: number;\n  private readonly us: number[];\n  private readonly vs: number[];\n  private readonly isContinuous: boolean;\n  private readonly deltaY: number;\n  private readonly deltaX: number;\n  private readonly translateX: undefined | boolean;\n  private readonly isFields: boolean;\n  private readonly flipY: boolean;\n  public grid: (Vector | null)[][];\n  public range: (number | undefined)[] | undefined;\n  private wrapX: boolean;\n\n  constructor(params: IField) {\n    this.grid = [];\n\n    this.xmin = params.xmin;\n    this.xmax = params.xmax;\n\n    this.ymin = params.ymin;\n    this.ymax = params.ymax;\n\n    this.cols = params.cols; // 列数\n    this.rows = params.rows; // 行数\n\n    this.us = params.us; //\n    this.vs = params.vs;\n\n    this.deltaX = params.deltaX; // x 方向增量\n    this.deltaY = params.deltaY; // y方向增量\n    this.flipY = Boolean(params.flipY);\n\n    // 由于数据组织方式和deltaY的默认处理，那么在正常情况下我们需要交换 ymin 和 ymax 得到数据真实的 bbox（todo：我们需要按照真实数据来组织吗？）\n    this.ymin = Math.min(params.ymax, params.ymin);\n    this.ymax = Math.max(params.ymax, params.ymin);\n\n    // 当 deltaY < 0 时，但是数据组织是由左上到右下此时说明数据 Y 轴是反的\n    if (!(this.deltaY < 0 && this.ymin < this.ymax)) {\n      if (params.flipY === undefined) {\n        this.flipY = true;\n      }\n      console.warn('[wind-core]: The data is flipY');\n    }\n\n    /**\n     *\n     */\n    this.isFields = true;\n\n    const cols = Math.ceil((this.xmax - this.xmin) / params.deltaX); // 列\n    const rows = Math.ceil((this.ymax - this.ymin) / params.deltaY); // 行\n\n    if (cols !== this.cols || rows !== this.rows) {\n      console.warn('[wind-core]: The data grid not equal');\n    }\n\n    // 部分数据可能并不是连续的，其经度范围可能是 -180 - 179.5（比如 GFS 0.5 分辨率的）我们需要补齐最后一位\n    this.isContinuous = Math.floor(this.cols * params.deltaX) >= 360;\n    this.translateX = 'translateX' in params ? params.translateX : this.xmax > 180; // [0, 360] --> [-180, 180];\n    if ('wrappedX' in params) {\n      warnOnce('[wind-core]: ', '`wrappedX` namespace will deprecated please use `translateX` instead！')\n    }\n\n    this.wrapX = Boolean(params.wrapX);\n\n    this.grid = this.buildGrid();\n    this.range = this.calculateRange();\n  }\n\n  // from https://github.com/sakitam-fdd/wind-layer/blob/95368f9433/src/windy/windy.js#L110\n  public buildGrid(): (Vector | null)[][] {\n    let grid: any[] = [];\n    let p = 0;\n\n    const { rows, cols, us, vs } = this;\n\n    for (let j = 0; j < rows; j++) {\n      const row: any[] = [];\n      for (let i = 0; i < cols; i++, p++) {\n        let u = us[p];\n        let v = vs[p];\n        let valid = this.isValid(u) && this.isValid(v);\n        row[i] = valid ? new Vector(u, v) : null;\n      }\n\n      if (this.isContinuous) {\n        row.push(row[0]);\n      }\n\n      grid[j] = row;\n    }\n    return grid;\n  }\n\n  /**\n   * release data\n   */\n  public release() {\n    this.grid = [];\n  }\n\n  /**\n   * grib data extent\n   * 格点数据范围\n   */\n  public extent() {\n    return [\n      this.xmin,\n      this.ymin,\n      this.xmax,\n      this.ymax,\n    ]\n  }\n\n  /**\n   * Bilinear interpolation for Vector\n   * 针对向量进行双线性插值\n   * https://en.wikipedia.org/wiki/Bilinear_interpolation\n   * @param   {Number} x\n   * @param   {Number} y\n   * @param   {Number[]} g00\n   * @param   {Number[]} g10\n   * @param   {Number[]} g01\n   * @param   {Number[]} g11\n   * @returns {Vector}\n   */\n  private bilinearInterpolateVector(\n    x: number, y: number,\n    g00: { u: number; v: number; },\n    g10: { u: number; v: number; },\n    g01: { u: number; v: number; },\n    g11: { u: number; v: number; }\n  ) {\n    const rx = 1 - x;\n    const ry = 1 - y;\n\n    const a = rx * ry;\n    const b = x * ry;\n    const c = rx * y;\n    const d = x * y;\n    const u = g00.u * a + g10.u * b + g01.u * c + g11.u * d;\n    const v = g00.v * a + g10.v * b + g01.v * c + g11.v * d;\n    return new Vector(u, v);\n  }\n\n  /**\n   * calculate vector value range\n   */\n  calculateRange() {\n    if (!this.grid || !this.grid[0]) return;\n    const rows = this.grid.length as number;\n    const cols = this.grid[0].length as number;\n\n    // const vectors = [];\n    let min;\n    let max;\n    // @from: https://stackoverflow.com/questions/13544476/how-to-find-max-and-min-in-array-using-minimum-comparisons\n    for (let j = 0; j < rows; j++) {\n      for (let i = 0; i < cols; i++) {\n        const vec = this.grid[j][i];\n\n        if (vec !== null) {\n          const val = vec.m || vec.magnitude();\n          // vectors.push();\n          if (min === undefined) {\n            min = val;\n          } else if (max === undefined) {\n            max = val;\n            // update min max\n            // 1. Pick 2 elements(a, b), compare them. (say a > b)\n            min = Math.min(min, max);\n            max = Math.max(min, max);\n          } else {\n            // 2. Update min by comparing (min, b)\n            // 3. Update max by comparing (max, a)\n            min = Math.min(val, min);\n            max = Math.max(val, max);\n          }\n        }\n      }\n    }\n    return [min, max];\n  }\n\n  /**\n   * 检查 uv是否合法\n   * @param x\n   * @private\n   */\n  public isValid(x: any) {\n    return x !== null && x !== undefined;\n  }\n\n  private getWrappedLongitudes() {\n    let xmin = this.xmin;\n    let xmax = this.xmax;\n\n    if (this.translateX) {\n      if (this.isContinuous) {\n        xmin = -180;\n        xmax = 180;\n      } else {\n        // not sure about this (just one particular case, but others...?)\n        xmax = this.xmax - 360;\n        xmin = this.xmin - 360;\n      }\n    }\n    return [xmin, xmax];\n  }\n\n  public contains(lon: number, lat: number) {\n    const [xmin, xmax] = this.getWrappedLongitudes();\n    let longitudeIn = lon >= xmin && lon <= xmax;\n    let latitudeIn;\n    if (this.deltaY >= 0) {\n      latitudeIn = lat >= this.ymin && lat <= this.ymax;\n    } else {\n      latitudeIn = lat >= this.ymax && lat <= this.ymin;\n    }\n    return longitudeIn && latitudeIn;\n  }\n\n  /**\n   * 获取经纬度所在的位置索引\n   * @param lon\n   * @param lat\n   */\n  public getDecimalIndexes(lon: number, lat: number) {\n    const i = floorMod(lon - this.xmin, 360) / this.deltaX; // calculate longitude index in wrapped range [0, 360)\n    if (this.flipY) {\n      const j = (this.ymax - lat) / this.deltaY; // calculate latitude index in direction +90 to -90\n      return [i, j];\n    } else {\n      const j = (this.ymin + lat) / this.deltaY; // calculate latitude index in direction +90 to -90\n      return [i, j];\n    }\n  }\n\n  /**\n   * Nearest value at lon-lat coordinates\n   * 线性插值\n   * @param lon\n   * @param lat\n   */\n  public valueAt(lon: number, lat: number) {\n    let flag = false;\n\n    if (this.wrapX) {\n      flag = true;\n    } else if (this.contains(lon, lat)) {\n      flag = true;\n    }\n\n    if (!flag) return null;\n\n    const indexes = this.getDecimalIndexes(lon, lat);\n    let ii = Math.floor(indexes[0]);\n    let jj = Math.floor(indexes[1]);\n\n    const ci = this.clampColumnIndex(ii);\n    const cj = this.clampRowIndex(jj);\n\n    return this.valueAtIndexes(ci, cj);\n  }\n\n  /**\n   * Get interpolated grid value lon-lat coordinates\n   * 双线性插值\n   * @param lon\n   * @param lat\n   */\n  public interpolatedValueAt(lon: number, lat: number) {\n    let flag = false;\n\n    if (this.wrapX) {\n      flag = true;\n    } else if (this.contains(lon, lat)) {\n      flag = true;\n    }\n\n    if (!flag) return null;\n\n    let [i, j] = this.getDecimalIndexes(lon, lat);\n    return this.interpolatePoint(i, j);\n  }\n\n  public hasValueAt(lon: number, lat: number) {\n    let value = this.valueAt(lon, lat);\n    return value !== null;\n  }\n\n  /**\n   * 基于向量的双线性插值\n   * @param i\n   * @param j\n   */\n  private interpolatePoint(i: number, j: number) {\n    //         1      2           After converting λ and φ to fractional grid indexes i and j, we find the\n    //        fi  i   ci          four points 'G' that enclose point (i, j). These points are at the four\n    //         | =1.4 |           corners specified by the floor and ceiling of i and j. For example, given\n    //      ---G--|---G--- fj 8   i = 1.4 and j = 8.3, the four surrounding grid points are (1, 8), (2, 8),\n    //    j ___|_ .   |           (1, 9) and (2, 9).\n    //  =8.3   |      |\n    //      ---G------G--- cj 9   Note that for wrapped grids, the first column is duplicated as the last\n    //         |      |           column, so the index ci can be used without taking a modulo.\n    const indexes = this.getFourSurroundingIndexes(i, j);\n    const [fi, ci, fj, cj] = indexes;\n    let values = this.getFourSurroundingValues(fi, ci, fj, cj);\n    if (values) {\n      const [g00, g10, g01, g11] = values;\n      // @ts-ignore\n      return this.bilinearInterpolateVector(i - fi, j - fj, g00, g10, g01, g11);\n    }\n\n    return null;\n  }\n\n  /**\n   * Check the column index is inside the field,\n   * adjusting to min or max when needed\n   * @private\n   * @param   {Number} ii - index\n   * @returns {Number} i - inside the allowed indexes\n   */\n  private clampColumnIndex(ii: number) {\n    let i = ii;\n    if (ii < 0) {\n      i = 0;\n    }\n    let maxCol = this.cols - 1;\n    if (ii > maxCol) {\n      i = maxCol;\n    }\n    return i;\n  }\n\n  /**\n   * Check the row index is inside the field,\n   * adjusting to min or max when needed\n   * @private\n   * @param   {Number} jj index\n   * @returns {Number} j - inside the allowed indexes\n   */\n  private clampRowIndex(jj: number) {\n    let j = jj;\n    if (jj < 0) {\n      j = 0;\n    }\n    let maxRow = this.rows - 1;\n    if (jj > maxRow) {\n      j = maxRow;\n    }\n    return j;\n  }\n\n  /**\n   * 计算索引位置周围的数据\n   * @private\n   * @param   {Number} i - decimal index\n   * @param   {Number} j - decimal index\n   * @returns {Array} [fi, ci, fj, cj]\n   */\n  private getFourSurroundingIndexes(i: number, j: number) {\n    let fi = Math.floor(i); // 左\n    let ci = fi + 1; // 右\n    // duplicate colum to simplify interpolation logic (wrapped value)\n    if (this.isContinuous && ci >= this.cols) {\n      ci = 0;\n    }\n    ci = this.clampColumnIndex(ci);\n\n    let fj = this.clampRowIndex(Math.floor(j)); // 上 纬度方向索引（取整）\n    let cj = this.clampRowIndex(fj + 1); // 下\n\n    return [fi, ci, fj, cj];\n  }\n\n  /**\n   * Get four surrounding values or null if not available,\n   * from 4 integer indexes\n   * @private\n   * @param   {Number} fi\n   * @param   {Number} ci\n   * @param   {Number} fj\n   * @param   {Number} cj\n   * @returns {Array}\n   */\n  private getFourSurroundingValues(fi: number, ci: number, fj: number, cj: number) {\n    let row;\n    if ((row = this.grid[fj])) {\n      const g00 = row[fi]; // << left\n      const g10 = row[ci]; // right >>\n      if (\n        this.isValid(g00) &&\n        this.isValid(g10) &&\n        (row = this.grid[cj])\n      ) {\n        // lower row vv\n        const g01 = row[fi]; // << left\n        const g11 = row[ci]; // right >>\n        if (this.isValid(g01) && this.isValid(g11)) {\n          return [g00, g10, g01, g11]; // 4 values found!\n        }\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Value for grid indexes\n   * @param   {Number} i - column index (integer)\n   * @param   {Number} j - row index (integer)\n   * @returns {Vector|Number}\n   */\n  public valueAtIndexes(i: number, j: number) {\n    return this.grid[j][i]; // <-- j,i !!\n  }\n\n  /**\n   * Lon-Lat for grid indexes\n   * @param   {Number} i - column index (integer)\n   * @param   {Number} j - row index (integer)\n   * @returns {Number[]} [lon, lat]\n   */\n  public lonLatAtIndexes(i: number, j: number) {\n    let lon = this.longitudeAtX(i);\n    let lat = this.latitudeAtY(j);\n\n    return [lon, lat];\n  }\n\n  /**\n   * Longitude for grid-index\n   * @param   {Number} i - column index (integer)\n   * @returns {Number} longitude at the center of the cell\n   */\n  private longitudeAtX(i: number) {\n    let halfXPixel = this.deltaX / 2.0;\n    let lon = this.xmin + halfXPixel + i * this.deltaX;\n    if (this.translateX) {\n      lon = lon > 180 ? lon - 360 : lon;\n    }\n    return lon;\n  }\n\n  /**\n   * Latitude for grid-index\n   * @param   {Number} j - row index (integer)\n   * @returns {Number} latitude at the center of the cell\n   */\n  private latitudeAtY(j: number) {\n    let halfYPixel = this.deltaY / 2.0;\n    return this.ymax - halfYPixel - j * this.deltaY;\n  }\n\n  /**\n   * 生成粒子位置\n   * @param o\n   * @param width\n   * @param height\n   * @param unproject\n   * @return IPosition\n   */\n  public randomize(o: IPosition = {}, width: number, height: number, unproject: (a: number[]) => ([number, number] | null)) {\n    let i = (Math.random() * (width || this.cols)) | 0;\n    let j = (Math.random() * (height || this.rows)) | 0;\n\n    const coords = unproject([i, j]);\n    if (coords !== null) {\n      o.x = coords[0];\n      o.y = coords[1];\n    } else {\n      o.x = this.longitudeAtX(i);\n      o.y = this.latitudeAtY(j);\n    }\n\n    return o;\n  }\n\n  /**\n   * 判断是否是 `Field` 的实例\n   * @return boolean\n   */\n  public checkFields() {\n    return this.isFields;\n  }\n}\n","import Field from './Field';\nimport type { IField } from './Field';\nimport Vector from './Vector';\nimport { isFunction, isNumber, isString, isValide } from './utils';\n\nexport const defaultOptions = {\n  globalAlpha: 0.9, // 全局透明度\n  lineWidth: 1, // 线条宽度\n  colorScale: '#fff',\n  velocityScale: 1 / 25,\n  // particleAge: 90,\n  maxAge: 90, // alias for particleAge\n  // particleMultiplier: 1 / 300, // TODO: PATHS = Math.round(width * height * particleMultiplier);\n  paths: 800,\n  frameRate: 20,\n  useCoordsDraw: true,\n  gpet: true, // generate particle every times\n};\n\ntype emptyFunc = (v?: any) => number;\n\nexport interface IOptions {\n  globalAlpha: number; // 全局透明度\n  lineWidth: number | emptyFunc; // 线条宽度\n  colorScale: string | string[] | emptyFunc;\n  velocityScale: number | emptyFunc;\n  particleAge?: number; // 粒子在重新生成之前绘制的最大帧数\n  maxAge: number; // alias for particleAge\n  particleMultiplier?: number; // TODO: PATHS = Math.round(width * height * that.particleMultiplier);\n  paths: number | emptyFunc;\n  frameRate: number;\n  minVelocity?: number;\n  maxVelocity?: number;\n  useCoordsDraw?: boolean;\n  gpet?: boolean;\n}\n\nfunction indexFor(m: number, min: number, max: number, colorScale: string[]) {\n  // map velocity speed to a style\n  return Math.max(\n    0,\n    Math.min(\n      colorScale.length - 1,\n      Math.round(((m - min) / (max - min)) * (colorScale.length - 1)),\n    ),\n  );\n}\n\nclass WindCore {\n  public static Field = Field;\n\n  public forceStop: boolean;\n  private ctx: CanvasRenderingContext2D;\n  private options: IOptions;\n  private field: Field;\n  private particles: any[] = [];\n  private animationLoop: number;\n  private then: number;\n  private starting: boolean;\n  private generated: boolean = false;\n\n  constructor(\n    ctx: CanvasRenderingContext2D,\n    options: Partial<IOptions>,\n    field?: Field,\n  ) {\n    this.ctx = ctx;\n\n    if (!this.ctx) {\n      throw new Error('ctx error');\n    }\n\n    this.animate = this.animate.bind(this);\n\n    this.setOptions(options);\n\n    if (field) {\n      this.updateData(field);\n    }\n  }\n\n  /**\n   * 设置配置项\n   * @param options\n   */\n  public setOptions(options: Partial<IOptions>) {\n    this.options = { ...defaultOptions, ...options };\n\n    const { width, height } = this.ctx.canvas;\n\n    if (\n      'particleAge' in options &&\n      !('maxAge' in options) &&\n      isNumber(this.options.particleAge)\n    ) {\n      // @ts-ignore\n      this.options.maxAge = this.options.particleAge;\n    }\n\n    if (\n      'particleMultiplier' in options &&\n      !('paths' in options) &&\n      isNumber(this.options.particleMultiplier)\n    ) {\n      this.options.paths = Math.round(\n        width * height * (this.options.particleMultiplier as number),\n      );\n    }\n\n    this.prerender();\n  }\n\n  /**\n   * 获取配置项\n   */\n  public getOptions() {\n    return this.options;\n  }\n\n  /**\n   * 更新数据\n   * @param field\n   */\n  public updateData(field: Field) {\n    this.field = field;\n    if (!this.generated) {\n      return;\n    }\n    this.particles = this.prepareParticlePaths();\n  }\n\n  // @ts-ignore\n  public project(...args: any[]): [number, number] | null {\n    throw new Error('project must be overriden');\n  }\n\n  // @ts-ignore\n  public unproject(...args: any[]): [number, number] | null {\n    throw new Error('unproject must be overriden');\n  }\n\n  /**\n   * 判断位置是否在当前视窗内\n   * @param coordinates\n   */\n  public intersectsCoordinate(coordinates: [number, number]): boolean {\n    throw new Error('must be overriden');\n  }\n\n  /**\n   * 清空当前画布\n   */\n  public clearCanvas() {\n    this.stop();\n    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n    this.forceStop = false;\n  }\n\n  /**\n   * 启动粒子动画\n   */\n  public start() {\n    this.starting = true;\n    this.forceStop = false;\n    this.then = Date.now();\n    this.animate();\n  }\n\n  /**\n   * 停止粒子动画\n   */\n  public stop() {\n    cancelAnimationFrame(this.animationLoop);\n    this.starting = false;\n    this.forceStop = true;\n  }\n\n  public animate() {\n    if (this.animationLoop) {\n      cancelAnimationFrame(this.animationLoop);\n    }\n    this.animationLoop = requestAnimationFrame(this.animate);\n    const now = Date.now();\n    const delta = now - this.then;\n    if (delta > this.options.frameRate) {\n      this.then = now - (delta % this.options.frameRate);\n      this.render();\n    }\n  }\n\n  /**\n   * 渲染前处理\n   */\n  public prerender() {\n    this.generated = false;\n    if (!this.field) {\n      return;\n    }\n    this.particles = this.prepareParticlePaths();\n    this.generated = true;\n\n    if (!this.starting && !this.forceStop) {\n      this.starting = true;\n      this.then = Date.now();\n      this.animate();\n    }\n  }\n\n  /**\n   * 开始渲染\n   */\n  public render() {\n    this.moveParticles();\n    this.drawParticles();\n    this.postrender();\n  }\n\n  /**\n   * each frame render end\n   */\n  public postrender() {}\n\n  private moveParticles() {\n    const { width, height } = this.ctx.canvas;\n    const particles = this.particles;\n    // 清空组\n    const maxAge = this.options.maxAge;\n    // @ts-ignore\n    const velocityScale = isFunction(this.options.velocityScale) ? this.options.velocityScale() : this.options.velocityScale;\n\n    let i = 0;\n    const len = particles.length;\n    for (; i < len; i++) {\n      const particle = particles[i];\n\n      if (particle.age > maxAge) {\n        particle.age = 0;\n        // restart, on a random x,y\n        this.field.randomize(particle, width, height, this.unproject);\n      }\n\n      const x = particle.x;\n      const y = particle.y;\n\n      const vector = this.field.interpolatedValueAt(x, y);\n\n      if (vector === null) {\n        particle.age = maxAge;\n      } else {\n        const xt = x + vector.u * velocityScale;\n        const yt = y + vector.v * velocityScale;\n\n        if (this.field.hasValueAt(xt, yt)) {\n          // Path from (x,y) to (xt,yt) is visible, so add this particle to the appropriate draw bucket.\n          particle.xt = xt;\n          particle.yt = yt;\n          particle.m = vector.m;\n        } else {\n          // Particle isn't visible, but it still moves through the field.\n          particle.x = xt;\n          particle.y = yt;\n          particle.age = maxAge;\n        }\n      }\n\n      particle.age++;\n    }\n  }\n\n  private fadeIn() {\n    const prev = this.ctx.globalCompositeOperation; // lighter\n    this.ctx.globalCompositeOperation = 'destination-in';\n    this.ctx.fillRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n    this.ctx.globalCompositeOperation = prev;\n  }\n\n  private drawParticles() {\n    const particles = this.particles;\n    this.fadeIn();\n    this.ctx.globalAlpha = this.options.globalAlpha;\n\n    this.ctx.fillStyle = `rgba(0, 0, 0, ${this.options.globalAlpha})`;\n    this.ctx.lineWidth = (isNumber(this.options.lineWidth)\n      ? this.options.lineWidth\n      : 1) as number;\n    this.ctx.strokeStyle = (isString(this.options.colorScale)\n      ? this.options.colorScale\n      : '#fff') as string;\n\n    let i = 0;\n    const len = particles.length;\n    if (this.field && len > 0) {\n      let min: number;\n      let max: number;\n      // 如果配置了风速范围\n      if (\n        isValide(this.options.minVelocity) &&\n        isValide(this.options.maxVelocity)\n      ) {\n        min = this.options.minVelocity as number;\n        max = this.options.maxVelocity as number;\n      } else {\n        // 未配置风速范围取格点数据中的最大风速和最小风速\n        [min, max] = this.field.range as [number, number];\n      }\n      for (; i < len; i++) {\n        this[\n          this.options.useCoordsDraw\n            ? 'drawCoordsParticle'\n            : 'drawPixelParticle'\n        ](particles[i], min, max);\n      }\n    }\n  }\n\n  /**\n   * 用于绘制像素粒子\n   * @param particle\n   * @param min\n   * @param max\n   */\n  private drawPixelParticle(particle: any, min: number, max: number) {\n    // TODO 需要判断粒子是否超出视野\n    // this.ctx.strokeStyle = color;\n    const pointPrev: [number, number] = [particle.x, particle.y];\n    // when xt isn't exit\n    const pointNext: [number, number] = [particle.xt, particle.yt];\n\n    if (\n      pointNext &&\n      pointPrev &&\n      isValide(pointNext[0]) &&\n      isValide(pointNext[1]) &&\n      isValide(pointPrev[0]) &&\n      isValide(pointPrev[1]) &&\n      particle.age <= this.options.maxAge\n    ) {\n      this.ctx.beginPath();\n      this.ctx.moveTo(pointPrev[0], pointPrev[1]);\n      this.ctx.lineTo(pointNext[0], pointNext[1]);\n\n      if (isFunction(this.options.colorScale)) {\n        // @ts-ignore\n        this.ctx.strokeStyle = this.options.colorScale(particle.m) as string;\n      } else if (Array.isArray(this.options.colorScale)) {\n        const colorIdx = indexFor(\n          particle.m,\n          min,\n          max,\n          this.options.colorScale,\n        );\n        this.ctx.strokeStyle = this.options.colorScale[colorIdx];\n      }\n\n      if (isFunction(this.options.lineWidth)) {\n        // @ts-ignore\n        this.ctx.lineWidth = this.options.lineWidth(particle.m) as number;\n      }\n\n      particle.x = particle.xt;\n      particle.y = particle.yt;\n\n      this.ctx.stroke();\n    }\n  }\n\n  /**\n   * 用于绘制坐标粒子\n   * @param particle\n   * @param min\n   * @param max\n   */\n  private drawCoordsParticle(particle: any, min: number, max: number) {\n    // TODO 需要判断粒子是否超出视野\n    // this.ctx.strokeStyle = color;\n    const source: [number, number] = [particle.x, particle.y];\n    // when xt isn't exit\n    const target: [number, number] = [particle.xt, particle.yt];\n\n    if (\n      target &&\n      source &&\n      isValide(target[0]) &&\n      isValide(target[1]) &&\n      isValide(source[0]) &&\n      isValide(source[1]) &&\n      this.intersectsCoordinate(target) &&\n      particle.age <= this.options.maxAge\n    ) {\n      const pointPrev = this.project(source);\n      const pointNext = this.project(target);\n\n      if (pointPrev && pointNext) {\n        this.ctx.beginPath();\n        this.ctx.moveTo(pointPrev[0], pointPrev[1]);\n        this.ctx.lineTo(pointNext[0], pointNext[1]);\n        particle.x = particle.xt;\n        particle.y = particle.yt;\n\n        if (isFunction(this.options.colorScale)) {\n          // @ts-ignore\n          this.ctx.strokeStyle = this.options.colorScale(particle.m) as string;\n        } else if (Array.isArray(this.options.colorScale)) {\n          const colorIdx = indexFor(\n            particle.m,\n            min,\n            max,\n            this.options.colorScale,\n          );\n          this.ctx.strokeStyle = this.options.colorScale[colorIdx];\n        }\n\n        if (isFunction(this.options.lineWidth)) {\n          // @ts-ignore\n          this.ctx.lineWidth = this.options.lineWidth(particle.m) as number;\n        }\n\n        this.ctx.stroke();\n      }\n    }\n  }\n\n  private prepareParticlePaths() {\n    // 由用户自行处理，不再自动修改粒子数\n    const { width, height } = this.ctx.canvas;\n    const particleCount =\n      typeof this.options.paths === 'function'\n        ? this.options.paths(this)\n        : this.options.paths;\n    const particles: any[] = [];\n    if (!this.field) {\n      return [];\n    }\n    let i = 0;\n    for (; i < particleCount; i++) {\n      particles.push(\n        this.field.randomize(\n          {\n            age: this.randomize(),\n          },\n          width,\n          height,\n          this.unproject,\n        ),\n      );\n    }\n    return particles;\n  }\n\n  private randomize() {\n    return Math.floor(Math.random() * this.options.maxAge);\n  }\n}\n\nexport * from './utils';\n\nexport {\n  WindCore,\n  Field,\n  Vector,\n  IField,\n};\n"],"names":[],"mappings":"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"}