{"version":3,"file":"wind-gl-core.js","sources":["../src/utils/common.ts","../src/utils/gl-utils.ts","../src/Base.ts","../src/Fill.ts","../src/utils/style-parser.ts","../src/WindFill.ts","../src/ScalarFill.ts","../src/utils/raf.ts","../src/WindParticles.ts"],"sourcesContent":["export function calcMinMax(array: number[]): [number, number] {\n  let min = Infinity;\n  let max = Infinity;\n  // @from: https://stackoverflow.com/questions/13544476/how-to-find-max-and-min-in-array-using-minimum-comparisons\n  for (let i = 0; i < array.length; i++) {\n    const val = array[i];\n\n    if (min === Infinity) {\n      min = val;\n    } else if (max === Infinity) {\n      max = val;\n      // update min max\n      // 1. Pick 2 elements(a, b), compare them. (say a > b)\n      min = Math.min(min, max);\n      max = Math.max(min, max);\n    } else {\n      // 2. Update min by comparing (min, b)\n      // 3. Update max by comparing (max, a)\n      min = Math.min(val, min);\n      max = Math.max(val, max);\n    }\n  }\n  return [min, max];\n}\n\nexport function isNumber(val: any): boolean {\n  return typeof val === 'number' && !isNaN(val);\n}\n\nexport function isValide(val: any): boolean {\n  return val !== undefined && val !== null && !isNaN(val);\n}\n\nexport function findStopLessThanOrEqualTo(stops: number[], input: number) {\n  const lastIndex = stops.length - 1;\n  let lowerIndex = 0;\n  let upperIndex = lastIndex;\n  let currentIndex = 0;\n  let currentValue;\n  let nextValue;\n\n  while (lowerIndex <= upperIndex) {\n    currentIndex = Math.floor((lowerIndex + upperIndex) / 2);\n    currentValue = stops[currentIndex];\n    nextValue = stops[currentIndex + 1];\n\n    if (currentValue <= input) {\n      if (currentIndex === lastIndex || input < nextValue) {\n        // Search complete\n        return currentIndex;\n      }\n\n      lowerIndex = currentIndex + 1;\n    } else if (currentValue > input) {\n      upperIndex = currentIndex - 1;\n    } else {\n      throw new Error('Input is not a number.');\n    }\n  }\n\n  return 0;\n}\n\nexport function fp64LowPart(x: number) {\n  return x - Math.fround(x);\n}\n\nexport function mat4Invert(out: number[], a: number[]) {\n  const a00 = a[0];\n  const a01 = a[1];\n  const a02 = a[2];\n  const a03 = a[3];\n  const a10 = a[4];\n  const a11 = a[5];\n  const a12 = a[6];\n  const a13 = a[7];\n  const a20 = a[8];\n  const a21 = a[9];\n  const a22 = a[10];\n  const a23 = a[11];\n  const a30 = a[12];\n  const a31 = a[13];\n  const a32 = a[14];\n  const a33 = a[15];\n\n  const b00 = a00 * a11 - a01 * a10;\n  const b01 = a00 * a12 - a02 * a10;\n  const b02 = a00 * a13 - a03 * a10;\n  const b03 = a01 * a12 - a02 * a11;\n  const b04 = a01 * a13 - a03 * a11;\n  const b05 = a02 * a13 - a03 * a12;\n  const b06 = a20 * a31 - a21 * a30;\n  const b07 = a20 * a32 - a22 * a30;\n  const b08 = a20 * a33 - a23 * a30;\n  const b09 = a21 * a32 - a22 * a31;\n  const b10 = a21 * a33 - a23 * a31;\n  const b11 = a22 * a33 - a23 * a32;\n\n  // Calculate the determinant\n  let det =\n    b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n  det = 1.0 / det;\n\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n\n  return out;\n}\n\nexport function transformMat4(out: number[], a: number[], m: number[]) {\n  const x = a[0];\n  const y = a[1];\n  const z = a[2];\n  const w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w; // 0\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w; // 0\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w; // 0\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w; // 1\n  return out;\n}\n\nexport function getEye(matrix: number[]) {\n  const defaultMat4 = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]; // insted of mat4.create()\n  let eye = transformMat4(\n    [],\n    [0, 0, 0, 1],\n    mat4Invert(defaultMat4, matrix) as number[],\n  );\n  const clipW = 1.0 / eye[3];\n  eye = eye.map((item: number) => item / eye[3]);\n  eye[3] = clipW;\n  return eye;\n}\n","import { fp64LowPart } from './common';\n// 大量代码来自于 [webgl-utils](https://github.com/gfxfundamentals/webgl-fundamentals/blob/master/webgl/resources/webgl-utils.js)\n\nexport function getDevicePixelRatio() {\n  return devicePixelRatio || 1;\n}\n\n/**\n * resize gl context\n * @link https://webglfundamentals.org/webgl/lessons/webgl-resizing-the-canvas.html\n * @link https://webglfundamentals.org/webgl/lessons/zh_cn/webgl-anti-patterns.html\n * @param canvas\n * @param pixelRatio\n * @returns {boolean}\n */\nexport function resizeCanvasSize(\n  canvas: HTMLCanvasElement,\n  pixelRatio?: number,\n) {\n  if (!canvas) {\n    return false;\n  }\n  pixelRatio = pixelRatio || getDevicePixelRatio();\n  if (canvas instanceof HTMLCanvasElement) {\n    const width = canvas.clientWidth * pixelRatio;\n    const height = canvas.clientHeight * pixelRatio;\n    if (width <= 0 || height <= 0) {\n      return false;\n    } else if (canvas.width !== width || canvas.height !== height) {\n      canvas.width = width;\n      canvas.height = height;\n      return true;\n    }\n  }\n\n  return false;\n}\n\n/**\n * get gl context\n * @param canvas\n * @param glOptions\n * @returns {null}\n */\nexport function getGlContext(canvas: HTMLCanvasElement, glOptions = {}) {\n  const names = ['webgl', 'experimental-webgl'];\n  let context: WebGLRenderingContext | null = null;\n\n  function onContextCreationError(error: any) {\n    console.error(error.statusMessage);\n  }\n\n  canvas.addEventListener(\n    'webglcontextcreationerror',\n    onContextCreationError,\n    false,\n  );\n  for (let ii = 0; ii < names.length; ++ii) {\n    try {\n      context = canvas.getContext(\n        names[ii],\n        glOptions,\n      ) as WebGLRenderingContext;\n    } catch (e) {} // eslint-disable-line\n    if (context) {\n      break;\n    }\n  }\n\n  canvas.removeEventListener(\n    'webglcontextcreationerror',\n    onContextCreationError,\n    false,\n  );\n\n  if (!context || !context.getExtension('OES_texture_float')) {\n    return null;\n  }\n  return context;\n}\n\n/**\n * defines\n * @param shader\n * @param defines\n */\nexport function defineShader(shader: string, defines: any) {\n  return Object.keys(defines).reduce((str, key) => {\n    return defines[key] ? str + `#define ${key} ${defines[key]}\\n` : '';\n  }, '');\n}\n\n/**\n * inject shader module\n * @param shader\n * @param modules\n */\nexport function injectShaderModule(shader: string, modules: any = {}) {\n  Object.keys(modules).map((key) => {\n    if (modules[key]) {\n      shader = shader.replace(new RegExp(key, 'g'), `${modules[key]} \\n`);\n    }\n  });\n  return shader;\n}\n\n/**\n * create shader and compile shader\n * @param gl\n * @param type\n * @param source\n * @returns {WebGLShader}\n */\nexport function createShader(\n  gl: WebGLRenderingContext,\n  type: GLenum,\n  source: string,\n): WebGLShader {\n  const shader = gl.createShader(type) as WebGLShader;\n  gl.shaderSource(shader, source);\n  gl.compileShader(shader);\n  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n    const log = gl.getShaderInfoLog(shader) || '';\n    gl.deleteShader(shader);\n    throw new Error(log);\n  }\n  return shader;\n}\n\n/**\n * create program from vertex and frag\n * @param gl\n * @param vertexShaderSource\n * @param fragmentShaderSource\n * @returns {WebGLProgram}\n */\nexport function createProgram(\n  gl: WebGLRenderingContext,\n  vertexShaderSource: string,\n  fragmentShaderSource: string,\n): WebGLProgram | null {\n  // create the shader program\n  const vertexShader = createShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\n\n  const fragmentShader = createShader(\n    gl,\n    gl.FRAGMENT_SHADER,\n    fragmentShaderSource,\n  );\n\n  const program = gl.createProgram();\n  if (program !== null) {\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n    gl.linkProgram(program);\n\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n      throw new Error(gl.getProgramInfoLog(program) || '');\n    }\n  }\n\n  return program;\n}\n\n/**\n * create 2d texture\n * @param gl\n * @param filter\n * @param data\n * @param width\n * @param height\n * @returns {WebGLTexture}\n */\nexport function createTexture(\n  gl: WebGLRenderingContext,\n  filter: GLint,\n  data: TexImageSource | Uint8Array,\n  width: number,\n  height: number,\n): WebGLTexture | null {\n  // 创建纹理对象\n  const texture = gl.createTexture();\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n  // 指定水平方向填充算法\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  // 指定垂直方向填充算法\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  // 指定缩小算法\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, filter);\n  // 指定放大算法\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, filter);\n  if (data instanceof Uint8Array) {\n    gl.texImage2D(\n      gl.TEXTURE_2D,\n      0,\n      gl.RGBA,\n      width,\n      height,\n      0,\n      gl.RGBA,\n      gl.UNSIGNED_BYTE,\n      data,\n    );\n  } else {\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, data);\n  }\n  gl.bindTexture(gl.TEXTURE_2D, null);\n  return texture;\n}\n\nexport function resizeTexture(\n  gl: WebGLRenderingContext,\n  texture: WebGLTexture,\n  width: number,\n  height: number,\n  data: TexImageSource | Uint8Array,\n) {\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n  if (data instanceof Uint8Array) {\n    gl.texImage2D(\n      gl.TEXTURE_2D,\n      0,\n      gl.RGBA,\n      width,\n      height,\n      0,\n      gl.RGBA,\n      gl.UNSIGNED_BYTE,\n      data,\n    );\n  } else {\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, data);\n  }\n  gl.bindTexture(gl.TEXTURE_2D, null);\n}\n\n/**\n * bind texture\n * @param gl\n * @param texture\n * @param unit\n */\nexport function bindTexture(\n  gl: WebGLRenderingContext,\n  texture: WebGLTexture,\n  unit: number,\n) {\n  gl.activeTexture(gl.TEXTURE0 + unit);\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n}\n\n/**\n * delete texture\n * @param gl\n * @param texture\n */\nexport function destroyTexture(\n  gl: WebGLRenderingContext,\n  texture: WebGLTexture,\n) {\n  gl.deleteTexture(texture);\n}\n\n/**\n * create data buffer\n * @param gl\n * @param data\n * @returns {AudioBuffer | WebGLBuffer}\n */\nexport function createBuffer(gl: WebGLRenderingContext, data: any) {\n  const buffer = gl.createBuffer();\n  gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n\n  if (data) {\n    gl.bufferData(gl.ARRAY_BUFFER, data, gl.STATIC_DRAW);\n  }\n\n  return buffer;\n}\n\nexport function updateBufferData(\n  gl: WebGLRenderingContext,\n  buffer: WebGLBuffer,\n  data: any,\n) {\n  gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n  if (data) {\n    gl.bufferData(gl.ARRAY_BUFFER, data, gl.STATIC_DRAW);\n  }\n  return buffer;\n}\n\n/**\n * bind attribute\n * @param gl\n * @param buffer\n * @param attribute\n * @param numComponents\n */\nexport function bindAttribute(\n  gl: WebGLRenderingContext,\n  buffer: WebGLBuffer,\n  attribute: GLuint,\n  numComponents: GLint,\n) {\n  gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n  gl.enableVertexAttribArray(attribute);\n  gl.vertexAttribPointer(attribute, numComponents, gl.FLOAT, false, 0, 0);\n}\n\n/**\n * bind framebuffer\n * @param gl\n * @param framebuffer\n * @param texture\n */\nexport function bindFramebuffer(\n  gl: WebGLRenderingContext,\n  framebuffer: WebGLFramebuffer | null,\n  texture?: WebGLTexture,\n) {\n  // 创建一个帧缓冲\n  gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n  if (texture) {\n    // 绑定纹理到帧缓冲\n    gl.framebufferTexture2D(\n      gl.FRAMEBUFFER,\n      gl.COLOR_ATTACHMENT0,\n      gl.TEXTURE_2D,\n      texture,\n      0,\n    );\n  }\n}\n\nexport function resizeFramebuffer(\n  gl: WebGLRenderingContext,\n  framebuffer: WebGLFramebuffer | null,\n  width: number,\n  height: number,\n  texture?: WebGLTexture,\n) {\n  // 创建一个帧缓冲\n  gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n  if (texture) {\n    // 绑定纹理到帧缓冲\n    gl.framebufferTexture2D(\n      gl.FRAMEBUFFER,\n      gl.COLOR_ATTACHMENT0,\n      gl.TEXTURE_2D,\n      texture,\n      0,\n    );\n  }\n}\n\n/**\n * clear scene\n * @param gl\n * @param color\n */\nexport function clearScene(\n  gl: WebGLRenderingContext,\n  color: number[],\n  depth = 1,\n  stencil = 0,\n  fbo?: WebGLFramebuffer,\n) {\n  const [r, g, b, a] = color;\n  let clearFlags = 0;\n  gl.clearColor(r, g, b, a);\n\n  // tslint:disable-next-line:no-bitwise\n  clearFlags |= gl.COLOR_BUFFER_BIT;\n\n  if (depth !== undefined) {\n    gl.clearDepth(depth);\n    // tslint:disable-next-line:no-bitwise\n    clearFlags |= gl.DEPTH_BUFFER_BIT;\n  }\n  if (stencil !== undefined) {\n    // tslint:disable-next-line:no-bitwise\n    gl.clearStencil(stencil | 0);\n    // tslint:disable-next-line:no-bitwise\n    clearFlags |= gl.STENCIL_BUFFER_BIT;\n  }\n  // tslint:disable-next-line:no-bitwise\n  gl.clear(clearFlags);\n}\n\n/**\n * load image by url\n * @param src\n * @returns {Promise<Image>}\n */\nexport function loadImage(src: string): Promise<HTMLImageElement> {\n  return new Promise((resolve, reject) => {\n    if (!src) {\n      reject(new Event('url is null'));\n    }\n    const image = new Image();\n\n    image.crossOrigin = 'anonymous';\n\n    image.onload = () => resolve(image);\n    image.onerror = reject;\n\n    image.src = src;\n\n    if (image.complete) {\n      resolve(image);\n    }\n  });\n}\n\nexport interface IPlaneBuffer {\n  uvs: {\n    data: number[];\n    size: number;\n  };\n  elements: {\n    data: number[];\n    count: number;\n  };\n  wireframeElements: {\n    data: number[];\n    count: number;\n  };\n  position: {\n    data: number[];\n    size: number;\n  };\n  positionLow: {\n    data: number[];\n    size: number;\n  };\n}\n\nexport function getPlaneBuffer(\n  startX: number,\n  endX: number,\n  startY: number,\n  endY: number,\n  widthSegments: number,\n  heightSegments: number,\n): IPlaneBuffer {\n  const width = endX - startX;\n  const height = endY - startY;\n  const widthHalf = width / 2;\n  const heightHalf = height / 2;\n\n  const gridX = Math.floor(widthSegments);\n  const gridY = Math.floor(heightSegments);\n\n  const gridX1 = gridX + 1;\n  const gridY1 = gridY + 1;\n\n  const segmentWidth = width / gridX;\n  const segmentHeight = height / gridY;\n\n  const indices: number[] = [];\n  const wireframeIndexes: number[] = [];\n  const vertices: number[] = [];\n  const verticesLow: number[] = [];\n  const uvs: number[] = [];\n\n  for (let iy = 0; iy < gridY1; iy++) {\n    const y = iy * segmentHeight;\n    for (let ix = 0; ix < gridX1; ix++) {\n      const x = ix * segmentWidth;\n      const vx = startX + (x / widthHalf / 2) * width;\n      const vy = startY + (y / heightHalf / 2) * height;\n      vertices.push(vx, vy, 0);\n      verticesLow.push(fp64LowPart(vx), fp64LowPart(vy), 0);\n      // vertices.push(ix / gridX, 1 - (iy / gridY));\n      uvs.push(ix / gridX, iy / gridY);\n    }\n  }\n\n  for (let iy = 0; iy < gridY; iy++) {\n    for (let ix = 0; ix < gridX; ix++) {\n      const a = ix + gridX1 * iy;\n      const b = ix + gridX1 * (iy + 1);\n      const c = ix + 1 + gridX1 * (iy + 1);\n      const d = ix + 1 + gridX1 * iy;\n\n      indices.push(a, b, d);\n      indices.push(b, c, d);\n    }\n  }\n\n  for (let i = 0, l = indices.length; i < l; i += 3) {\n    const a = indices[i];\n    const b = indices[i + 1];\n    const c = indices[i + 2];\n    wireframeIndexes.push(a, b, b, c, c, a);\n  }\n\n  return {\n    uvs: {\n      data: uvs,\n      size: 2,\n    },\n    elements: {\n      data: indices,\n      count: indices.length,\n    },\n    wireframeElements: {\n      data: wireframeIndexes,\n      count: wireframeIndexes.length,\n    },\n    position: {\n      data: vertices,\n      size: 3,\n    },\n    positionLow: {\n      data: verticesLow,\n      size: 3,\n    },\n  };\n}\n","import {\n  clearScene,\n  createProgram,\n  injectShaderModule,\n  resizeCanvasSize,\n} from './utils/gl-utils';\n\nexport interface IBufferComponents {\n  buffer: WebGLBuffer;\n  numComponents?: number;\n  size?: number;\n  type?: GLenum;\n  normalize?: boolean;\n  stride?: number;\n  offset?: number;\n}\n\nexport interface IUniformSetters {\n  [key: string]: (arg: any) => void;\n}\n\nexport interface IUniformValues {\n  [key: string]: any;\n}\n\nexport interface IAttribSetters {\n  [key: string]: (arg: any) => void;\n}\n\nexport interface IAttribValues {\n  [key: string]: any;\n}\n\nexport type ElementsDataType = Uint8Array | Uint16Array;\n\nexport type ElementsData = Uint8Array | Uint16Array | Uint32Array;\n\nexport interface IElementsOptions {\n  data?: ElementsData | null;\n  usage?: GLenum;\n  primitive?: GLenum;\n  count?: number;\n}\n\nexport default class Base {\n  public vertShader = '';\n\n  public fragShader = '';\n  public readonly gl: WebGLRenderingContext;\n  public count: number;\n  public readonly program: WebGLProgram | null;\n  public textureUnit: number;\n  public uniformSetters: IUniformSetters;\n  public attribSetters: IAttribSetters;\n  public transfromStack: Array<() => void>;\n  public elementsBuffer: WebGLBuffer | null;\n  public primitive: GLenum;\n\n  constructor(\n    gl: WebGLRenderingContext,\n    vShader: string,\n    fShader: string,\n    modules?: {\n      [key: string]: string;\n    },\n  ) {\n    if (vShader) {\n      this.vertShader = vShader;\n    }\n    if (fShader) {\n      this.fragShader = fShader;\n    }\n\n    this.program = createProgram(\n      gl,\n      injectShaderModule(this.vertShader, modules),\n      this.fragShader,\n    );\n\n    this.gl = gl;\n\n    this.textureUnit = 0;\n\n    this.uniformSetters = this.createUniformSetters();\n    this.attribSetters = this.createAttributeSetters();\n\n    this.transfromStack = []; // 矩阵变换调用栈\n  }\n\n  public active() {\n    this.gl.useProgram(this.program);\n    return this;\n  }\n\n  public deactive() {\n    this.gl.deleteProgram(this.program);\n    return this;\n  }\n\n  /**\n   * from webgl-utils\n   * @param gl\n   * @param type\n   * @returns {GLenum|undefined}\n   */\n  public getBindPointForSamplerType(gl: WebGLRenderingContext, type: GLenum) {\n    if (type === gl.SAMPLER_2D) {\n      return gl.TEXTURE_2D;\n    } // eslint-disable-line\n    if (type === gl.SAMPLER_CUBE) {\n      return gl.TEXTURE_CUBE_MAP;\n    } // eslint-disable-line\n    return undefined;\n  }\n\n  /**\n   * from webgl-utils\n   * @param program\n   * @param uniformInfo\n   * @returns {function(...[*]=)}\n   */\n  public createUniformSetter(\n    program: WebGLProgram,\n    uniformInfo: WebGLActiveInfo,\n  ) {\n    const { gl } = this;\n    const location = gl.getUniformLocation(program, uniformInfo.name);\n    const type = uniformInfo.type;\n    // Check if this uniform is an array\n    const isArray =\n      uniformInfo.size > 1 && uniformInfo.name.substr(-3) === '[0]';\n    if (type === gl.FLOAT && isArray) {\n      return function(v: Float32List) {\n        gl.uniform1fv(location, v);\n      };\n    }\n    if (type === gl.FLOAT) {\n      return function(v: GLfloat) {\n        gl.uniform1f(location, v);\n      };\n    }\n    if (type === gl.FLOAT_VEC2) {\n      return function(v: Float32List) {\n        gl.uniform2fv(location, v);\n      };\n    }\n    if (type === gl.FLOAT_VEC3) {\n      return function(v: Float32List) {\n        gl.uniform3fv(location, v);\n      };\n    }\n    if (type === gl.FLOAT_VEC4) {\n      return function(v: Float32List) {\n        gl.uniform4fv(location, v);\n      };\n    }\n    if (type === gl.INT && isArray) {\n      return function(v: Int32List) {\n        gl.uniform1iv(location, v);\n      };\n    }\n    if (type === gl.INT) {\n      return function(v: GLint) {\n        gl.uniform1i(location, v);\n      };\n    }\n    if (type === gl.INT_VEC2) {\n      return function(v: Int32List) {\n        gl.uniform2iv(location, v);\n      };\n    }\n    if (type === gl.INT_VEC3) {\n      return function(v: Int32List) {\n        gl.uniform3iv(location, v);\n      };\n    }\n    if (type === gl.INT_VEC4) {\n      return function(v: Int32List) {\n        gl.uniform4iv(location, v);\n      };\n    }\n    if (type === gl.BOOL) {\n      return function(v: Int32List) {\n        gl.uniform1iv(location, v);\n      };\n    }\n    if (type === gl.BOOL_VEC2) {\n      return function(v: Int32List) {\n        gl.uniform2iv(location, v);\n      };\n    }\n    if (type === gl.BOOL_VEC3) {\n      return function(v: Int32List) {\n        gl.uniform3iv(location, v);\n      };\n    }\n    if (type === gl.BOOL_VEC4) {\n      return function(v: Int32List) {\n        gl.uniform4iv(location, v);\n      };\n    }\n    if (type === gl.FLOAT_MAT2) {\n      return function(v: Float32List) {\n        gl.uniformMatrix2fv(location, false, v);\n      };\n    }\n    if (type === gl.FLOAT_MAT3) {\n      return function(v: Float32List) {\n        gl.uniformMatrix3fv(location, false, v);\n      };\n    }\n    if (type === gl.FLOAT_MAT4) {\n      return function(v: Float32List) {\n        gl.uniformMatrix4fv(location, false, v);\n      };\n    }\n    if ((type === gl.SAMPLER_2D || type === gl.SAMPLER_CUBE) && isArray) {\n      const units: number[] = [];\n      for (let ii = 0; ii < uniformInfo.size; ++ii) {\n        units.push(this.textureUnit++);\n      }\n      return (function(bindPoint: GLenum | undefined, units) {\n        return function(textures: WebGLTexture[]) {\n          gl.uniform1iv(location, units);\n          textures.forEach(function(texture, index) {\n            gl.activeTexture(gl.TEXTURE0 + units[index]);\n            if (bindPoint !== undefined) {\n              gl.bindTexture(bindPoint, texture);\n            }\n          });\n        };\n      })(this.getBindPointForSamplerType(gl, type), units);\n    }\n    if (type === gl.SAMPLER_2D || type === gl.SAMPLER_CUBE) {\n      return (function(bindPoint: GLenum | undefined, unit) {\n        return function(texture: WebGLTexture) {\n          gl.uniform1i(location, unit);\n          gl.activeTexture(gl.TEXTURE0 + unit);\n          if (bindPoint !== undefined) {\n            gl.bindTexture(bindPoint, texture);\n          }\n        };\n      })(this.getBindPointForSamplerType(gl, type), this.textureUnit++);\n    }\n    throw new Error('unknown type: 0x' + type.toString(16)); // we should never get here.\n  }\n\n  /**\n   * from webgl-utils\n   * @returns {{}}\n   */\n  public createUniformSetters() {\n    const { gl } = this;\n    this.textureUnit = 0;\n    const uniformSetters: IUniformSetters = {};\n\n    if (this.program !== null) {\n      const numUniforms = gl.getProgramParameter(\n        this.program,\n        gl.ACTIVE_UNIFORMS,\n      );\n\n      for (let ii = 0; ii < numUniforms; ++ii) {\n        const uniformInfo: WebGLActiveInfo | null = gl.getActiveUniform(\n          this.program,\n          ii,\n        );\n        if (!uniformInfo) {\n          break;\n        }\n        let name = uniformInfo.name;\n        // remove the array suffix.\n        if (name.substr(-3) === '[0]') {\n          name = name.substr(0, name.length - 3);\n        }\n        const setter = this.createUniformSetter(this.program, uniformInfo);\n        uniformSetters[name] = setter;\n      }\n    }\n\n    return uniformSetters;\n  }\n\n  /**\n   * from webgl-utils\n   * @returns {function(...[*]=)}\n   */\n  public createAttribSetter(index: number) {\n    const { gl } = this;\n    return function(b: IBufferComponents) {\n      gl.bindBuffer(gl.ARRAY_BUFFER, b.buffer);\n      gl.enableVertexAttribArray(index);\n      if (b.numComponents !== undefined || b.size !== undefined) {\n        gl.vertexAttribPointer(\n          index,\n          (b.numComponents || b.size) as number,\n          b.type || gl.FLOAT,\n          b.normalize || false,\n          b.stride || 0,\n          b.offset || 0,\n        );\n      }\n    };\n  }\n\n  public createAttributeSetters() {\n    const { gl } = this;\n    const attribSetters: IAttribSetters = {};\n\n    if (this.program !== null) {\n      const numAttribs = gl.getProgramParameter(\n        this.program,\n        gl.ACTIVE_ATTRIBUTES,\n      );\n      for (let ii = 0; ii < numAttribs; ++ii) {\n        const attribInfo: WebGLActiveInfo | null = gl.getActiveAttrib(\n          this.program,\n          ii,\n        );\n        if (!attribInfo) {\n          break;\n        }\n        const index = gl.getAttribLocation(this.program, attribInfo.name);\n        attribSetters[attribInfo.name] = this.createAttribSetter(index);\n      }\n    }\n\n    return attribSetters;\n  }\n\n  public setAttributes(attribs: IAttribValues, setters?: IAttribSetters | any) {\n    if (setters) {\n      setters = setters.attribSetters || setters;\n    } else {\n      setters = this.attribSetters;\n    }\n    Object.keys(attribs).forEach(function(name) {\n      const setter = setters[name];\n      if (setter) {\n        setter(attribs[name]);\n      }\n    });\n    return this;\n  }\n\n  public setUniforms(values: IUniformValues, setters?: IUniformSetters | any) {\n    if (setters) {\n      setters = setters.uniformSetters || setters;\n    } else {\n      setters = this.uniformSetters;\n    }\n    Object.keys(values).forEach(function(name) {\n      const setter = setters[name];\n      if (setter) {\n        setter(values[name]);\n      }\n    });\n\n    return this;\n  }\n\n  public elements(element: IElementsOptions) {\n    if (!this.elementsBuffer) {\n      this.elementsBuffer = this.gl.createBuffer();\n    }\n    this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.elementsBuffer);\n    if (element.data) {\n      this.gl.bufferData(\n        this.gl.ELEMENT_ARRAY_BUFFER,\n        element.data,\n        element.usage || this.gl.STATIC_DRAW,\n      );\n    }\n    if (element.count !== undefined) {\n      this.runTimes(element.count);\n    }\n\n    if (element.primitive) {\n      this.setPrimitive(element.primitive);\n    }\n\n    return this;\n  }\n\n  /**\n   * 可以override，默认使用此种方式清空画布\n   * @param color\n   * @returns {Base}\n   */\n  public clear(color: number[]) {\n    clearScene(this.gl, color);\n    this.transfromStack = [];\n    return this;\n  }\n\n  /**\n   * 运行次数\n   * TODO: 目前没有好的方式去绑定顶点数量的关系\n   * @param count\n   */\n  public runTimes(count: number) {\n    this.count = count || 0;\n    return this;\n  }\n\n  public setPrimitive(primitive?: GLenum) {\n    this.primitive = primitive || this.gl.TRIANGLES;\n    return this;\n  }\n\n  public resize(width?: number, height?: number) {\n    if (width === undefined || height === undefined) {\n      resizeCanvasSize(this.gl.canvas);\n      this.gl.viewport(0, 0, this.gl.canvas.width, this.gl.canvas.height);\n    } else {\n      this.gl.viewport(0, 0, width, height);\n    }\n    return this;\n  }\n\n  public draw() {\n    throw new Error('should override');\n  }\n\n  public translate() {\n    throw new Error('should override');\n  }\n\n  public rotate() {\n    throw new Error('should override');\n  }\n\n  public scale() {\n    throw new Error('should override');\n  }\n\n  public destroyed() {\n    throw new Error('should override');\n  }\n}\n","import Base from './Base';\nimport FillFrag from './shaders/currency-fill.frag.glsl';\nimport FillVert from './shaders/currency-fill.vert.glsl';\n\nexport class Fill extends Base {\n  public vertShader = FillVert;\n\n  public fragShader = FillFrag;\n  private checkExt: OES_element_index_uint | null;\n\n  constructor(\n    gl: WebGLRenderingContext,\n    vShader?: string,\n    fShader?: string,\n    modules?: {\n      [key: string]: string;\n    },\n  ) {\n    super(gl, vShader || FillVert, fShader || FillFrag, modules || {});\n  }\n\n  public draw() {\n    // draw\n    if (this.checkExt !== undefined) {\n      const primitiveType = this.primitive || this.gl.TRIANGLES;\n      // gl.UNSIGNED_BYTE对应Uint8Array，gl.UNSIGNED_SHORT对应Uint16Array\n      if (this.checkExt) {\n        this.gl.drawElements(\n          primitiveType,\n          this.count,\n          this.gl.UNSIGNED_INT,\n          0,\n        );\n      } else {\n        this.gl.drawElements(\n          primitiveType,\n          this.count,\n          this.gl.UNSIGNED_SHORT,\n          0,\n        );\n      }\n    } else {\n      this.checkExt = this.gl.getExtension('OES_element_index_uint');\n    }\n\n    return this;\n  }\n\n  public translate() {\n    return this;\n  }\n\n  public rotate() {\n    return this;\n  }\n\n  public scale() {\n    return this;\n  }\n}\n","/**\n * ```js\n * [\n *   'interpolate',\n *   ['linear'],\n *   ['get', 'value'],\n *   0.0,\n *   '#3288bd',\n *   10,\n *   '#66c2a5',\n *   20,\n *   '#abdda4',\n * ]\n * ```\n */\nimport { findStopLessThanOrEqualTo, isNumber } from './common';\n\nexport function parseColorStyle(styleAttrField: any[]) {\n  if (Array.isArray(styleAttrField) && styleAttrField.length > 3) {\n    const type = styleAttrField[0]; // interpolate \\ step\n    const action = styleAttrField[1]; // linear\n    // const expression = styleAttrField[2];\n    const interpolateColor: any[] = [];\n    for (let i = 3; i < styleAttrField.length; i += 2) {\n      const val = styleAttrField[i];\n      const color = styleAttrField[i + 1];\n      interpolateColor.push({\n        key: val,\n        value: color,\n      });\n    }\n    return {\n      operator: type,\n      interpolation: {\n        name: action[0],\n        base: action[1],\n      },\n      input: interpolateColor,\n    };\n  } else {\n    console.warn('[wind-core]: style-parser style config invalid');\n    return {};\n  }\n}\n\nexport function parseZoomStyle(styleAttrField: any[]) {\n  if (Array.isArray(styleAttrField) && styleAttrField.length > 3) {\n    const type = styleAttrField[0]; // interpolate\n    const action = styleAttrField[1]; // linear\n    // const expression = styleAttrField[2];\n    const interpolateZoom: {\n      key: string | number;\n      value: string;\n    }[] = [];\n    for (let i = 3; i < styleAttrField.length; i += 2) {\n      const val = styleAttrField[i];\n      const color = styleAttrField[i + 1];\n      interpolateZoom.push({\n        key: val,\n        value: color,\n      });\n    }\n    return {\n      operator: type,\n      interpolation: {\n        name: action[0],\n        base: action[1],\n      },\n      input: interpolateZoom,\n    };\n  } else {\n    console.warn('[wind-core]: style-parser style config invalid');\n    return {};\n  }\n}\n\nexport function createLinearGradient(\n  range: any[],\n  styleAttrField: any[],\n): {\n  data: Uint8Array;\n  colorRange: [number, number];\n} {\n  const canvas = document.createElement('canvas');\n  const ctx = canvas.getContext('2d');\n\n  canvas.width = 256;\n  canvas.height = 1;\n\n  const { input: interpolateColor } = parseColorStyle(styleAttrField);\n\n  if (ctx && interpolateColor && Array.isArray(interpolateColor)) {\n    const keys = interpolateColor.map((d) => parseFloat(d.key));\n    const colorRange: [number, number] = [Math.min(...keys), Math.max(...keys)];\n    const [min, max] = [range[0] || colorRange[0], range[1] || colorRange[1]];\n    const gradient = ctx.createLinearGradient(0, 0, 256, 0);\n\n    for (let i = 0; i < interpolateColor.length; i += 1) {\n      const key = interpolateColor[i].key;\n      const color = interpolateColor[i].value;\n      gradient.addColorStop((key - min) / (max - min), color);\n    }\n\n    ctx.fillStyle = gradient;\n    ctx.fillRect(0, 0, 256, 1);\n    return {\n      data: new Uint8Array(ctx.getImageData(0, 0, 256, 1).data),\n      colorRange,\n    };\n  } else {\n    // @ts-ignore\n    return {};\n  }\n}\n\nfunction exponentialInterpolation(\n  input: number,\n  base: number,\n  lowerValue: number,\n  upperValue: number,\n) {\n  const difference = upperValue - lowerValue;\n  const progress = input - lowerValue;\n\n  if (difference === 0) {\n    return 0;\n  } else if (base === 1) {\n    return progress / difference;\n  } else {\n    return (Math.pow(base, progress) - 1) / (Math.pow(base, difference) - 1);\n  }\n}\n\nexport type InterpolationType =\n  | { name: 'linear' }\n  | { name: 'exponential'; base: number }\n  | { name: 'cubic-bezier'; controlPoints: [number, number, number, number] };\n\nexport function interpolationFactor(\n  interpolation: InterpolationType,\n  input: number,\n  lower: number,\n  upper: number,\n) {\n  let t = 0;\n  if (interpolation.name === 'exponential') {\n    t = exponentialInterpolation(input, interpolation.base, lower, upper);\n  } else if (interpolation.name === 'linear') {\n    t = exponentialInterpolation(input, 1, lower, upper);\n  } else if (interpolation.name === 'cubic-bezier') {\n    console.warn('interpolationFactor');\n  }\n  return t;\n}\n\nexport function interpolateNumber(a: number, b: number, t: number) {\n  return a * (1 - t) + b * t;\n}\n\nexport type CachedStyleItem =\n  | {\n      operator: any;\n      interpolation: any;\n      input: Array<{ key: any; value: any }>;\n    }\n  | { operator?: undefined; interpolation?: undefined; input?: undefined };\n\nconst cachedStyle: {\n  [key: string]: CachedStyleItem;\n} = {};\n\nexport function createZoom(\n  uid: string,\n  zoom: number,\n  key: string,\n  styles: any,\n  clearCache?: boolean,\n): number {\n  const ukey = `${uid}_${key}`;\n  const styleAttrField = styles[key] as any[] | number;\n\n  if (isNumber(styleAttrField)) {\n    if (cachedStyle[ukey]) {\n      delete cachedStyle[ukey];\n    }\n    return styleAttrField as number;\n  }\n\n  if (\n    styleAttrField &&\n    Array.isArray(styleAttrField) &&\n    (!cachedStyle[ukey] || clearCache)\n  ) {\n    cachedStyle[ukey] = parseZoomStyle(styleAttrField);\n  }\n\n  if (cachedStyle[ukey]) {\n    const { input: interpolateZoom, interpolation } = cachedStyle[ukey] || {};\n    if (interpolateZoom && Array.isArray(interpolateZoom)) {\n      const labels = interpolateZoom.map((i) => i.key);\n      const outputs = interpolateZoom.map((i) => i.value);\n\n      if (zoom <= labels[0]) {\n        return outputs[0];\n      }\n      const stopCount = labels.length;\n      if (zoom >= labels[stopCount - 1]) {\n        return outputs[stopCount - 1];\n      }\n\n      const index = findStopLessThanOrEqualTo(labels, zoom);\n      const idx = labels.length - 1;\n\n      const lower = labels[index];\n      const upper = labels[index >= idx ? idx : index + 1];\n\n      const t = interpolationFactor(interpolation, zoom, lower, upper);\n\n      const outputLower = outputs[index];\n      const outputUpper = outputs[index >= idx ? idx : index + 1];\n\n      return interpolateNumber(outputLower, outputUpper, t);\n    } else {\n      return 1;\n    }\n  }\n  return 1;\n}\n","import Base from './Base';\nimport FillFrag from './shaders/wind-fill.frag.glsl';\nimport FillVert from './shaders/wind-fill.vert.glsl';\n\nexport class WindFill extends Base {\n  public vertShader = FillVert;\n\n  public fragShader = FillFrag;\n  private checkExt: OES_element_index_uint | null;\n\n  constructor(\n    gl: WebGLRenderingContext,\n    vShader?: string,\n    fShader?: string,\n    modules?: {\n      [key: string]: string;\n    },\n  ) {\n    super(gl, vShader || FillVert, fShader || FillFrag, modules || {});\n  }\n\n  public draw() {\n    // draw\n    if (this.checkExt !== undefined) {\n      const primitiveType = this.primitive || this.gl.TRIANGLES;\n      // gl.UNSIGNED_BYTE对应Uint8Array，gl.UNSIGNED_SHORT对应Uint16Array\n      if (this.checkExt) {\n        this.gl.drawElements(\n          primitiveType,\n          this.count,\n          this.gl.UNSIGNED_INT,\n          0,\n        );\n      } else {\n        this.gl.drawElements(\n          primitiveType,\n          this.count,\n          this.gl.UNSIGNED_SHORT,\n          0,\n        );\n      }\n    } else {\n      this.checkExt = this.gl.getExtension('OES_element_index_uint');\n    }\n\n    return this;\n  }\n\n  public translate() {\n    return this;\n  }\n\n  public rotate() {\n    return this;\n  }\n\n  public scale() {\n    return this;\n  }\n\n  public destroyed() {}\n}\n","// @ts-ignore\nimport DataProcess from 'web-worker:./workers/DataProcesse';\nimport { Fill } from './Fill';\nimport { isNumber } from './utils/common';\nimport {\n  createBuffer,\n  createTexture,\n  getPlaneBuffer,\n  IPlaneBuffer,\n  loadImage,\n} from './utils/gl-utils';\nimport { createLinearGradient, createZoom } from './utils/style-parser';\nimport { WindFill } from './WindFill';\n\nexport interface IGFSItem {\n  header: {\n    parameterCategory: number | string;\n    parameterNumber: number | string;\n    dx: number;\n    dy: number;\n    nx: number;\n    ny: number;\n    lo1: number;\n    lo2: number;\n    la1: number;\n    la2: number;\n    [key: string]: any;\n  };\n  data: number[];\n}\n\nexport interface IOptions {\n  renderForm?: 'rg' | 'r';\n  styleSpec?: {\n    'fill-color': any[];\n    opacity: number | any[];\n  };\n  getZoom?: () => number;\n  opacity?: number;\n  triggerRepaint?: () => void;\n  createPlaneBuffer?: (\n    points: number[][],\n    widthSegments: number,\n    heightSegments: number,\n  ) => IPlaneBuffer;\n  injectShaderModules: {\n    [key: string]: string;\n  };\n  displayRange?: [number, number];\n  mappingRange?: [number, number];\n  widthSegments?: number;\n  heightSegments?: number;\n  wireframe?: boolean;\n}\n\nexport interface IData {\n  width: number;\n  height: number;\n  uMin?: number;\n  uMax?: number;\n  vMin?: number;\n  vMax?: number;\n  min?: number;\n  max?: number;\n  texCoordBuffer: WebGLBuffer | null;\n  quadBuffer: WebGLBuffer | null;\n  quad64LowBuffer: WebGLBuffer | null;\n  texture?: WebGLTexture | null;\n  indexes?: number[] | number[][];\n  wireframeIndexes?: number[] | number[][];\n}\n\nexport interface IJsonArrayData {\n  type: 'jsonArray';\n  data: IGFSItem[];\n  extent?: Array<[number, number]>;\n}\n\nexport interface IImageData {\n  type: 'image';\n  url: string;\n  extent: Array<[number, number]>;\n  uMin?: number;\n  uMax?: number;\n  vMin?: number;\n  vMax?: number;\n  min?: number;\n  max?: number;\n}\n\nexport const defaultOptions: IOptions = {\n  renderForm: 'r',\n  styleSpec: {\n    'fill-color': [\n      'interpolate',\n      ['linear'],\n      ['get', 'value'],\n      0.0,\n      '#3288bd',\n      10,\n      '#66c2a5',\n      20,\n      '#abdda4',\n      30,\n      '#e6f598',\n      40,\n      '#fee08b',\n      50,\n      '#fdae61',\n      60,\n      '#f46d43',\n      100.0,\n      '#d53e4f',\n    ],\n    opacity: 1,\n  },\n  displayRange: [Infinity, Infinity],\n  mappingRange: [0, 0],\n  widthSegments: 1,\n  heightSegments: 1,\n  wireframe: false,\n  createPlaneBuffer: (\n    points: number[][],\n    widthSegments: number,\n    heightSegments: number,\n  ) => {\n    const [startX, endX, startY, endY] = [\n      points[0][0],\n      points[2][0],\n      points[0][1],\n      points[1][1],\n    ];\n\n    return getPlaneBuffer(\n      startX,\n      endX,\n      startY,\n      endY,\n      widthSegments,\n      heightSegments,\n    );\n  },\n  injectShaderModules: {\n    '#modules-transformZ': `\nfloat transformZ(float value, vec3 pos) {\n  return 0.0;\n}\n    `,\n    '#modules-project': `\ngl_Position = u_matrix * vec4(pos.xy + vec2(u_offset, 0.0), pos.z + z, 1.0);\n    `,\n  },\n};\n\nexport function checkUVData(data: IData) {\n  return (\n    isNumber(data.uMin) &&\n    isNumber(data.uMax) &&\n    isNumber(data.vMin) &&\n    isNumber(data.vMax)\n  );\n}\n\nexport function checkData(data: IData) {\n  return isNumber(data.min) && isNumber(data.max);\n}\n\ninterface IScalarFill<T> {\n  [key: string]: T;\n}\n\nlet uid = 0;\n\nexport default class ScalarFill implements IScalarFill<any> {\n  [index: string]: any;\n\n  public readonly gl: WebGLRenderingContext;\n  public data: IData;\n  public colorRampTexture: WebGLTexture | null;\n\n  private uid: string;\n  private options: IOptions;\n\n  private opacity: number;\n\n  private colorRange: [number, number];\n\n  private worker: Worker;\n\n  private drawCommand: WindFill | Fill;\n\n  constructor(gl: WebGLRenderingContext, options?: Partial<IOptions>) {\n    this.gl = gl;\n    this.uid = `ScalarFill_${uid}`;\n    uid++;\n\n    if (!this.gl) {\n      throw new Error('initialize error');\n    }\n\n    if (!options) {\n      options = {};\n    }\n\n    this.options = {\n      ...defaultOptions,\n      ...options,\n    };\n\n    this.opacity = this.options.opacity || 1;\n  }\n\n  public updateOptions(options: Partial<IOptions>) {\n    this.options = {\n      ...this.options,\n      ...options,\n    };\n\n    this.buildColorRamp();\n\n    if (typeof this.options.getZoom === 'function') {\n      this.setOpacity(\n        createZoom(\n          this.uid,\n          this.options.getZoom(),\n          'opacity',\n          this.options.styleSpec,\n          true,\n        ),\n      );\n    }\n  }\n\n  public setFillColor() {\n    this.buildColorRamp();\n  }\n\n  public setOpacity(opacity: number) {\n    this.opacity = opacity;\n  }\n\n  public handleZoom() {\n    if (typeof this.options.getZoom === 'function') {\n      this.setOpacity(\n        createZoom(\n          this.uid,\n          this.options.getZoom(),\n          'opacity',\n          this.options.styleSpec,\n        ),\n      );\n    }\n  }\n\n  public buildColorRamp() {\n    const { data, colorRange } = createLinearGradient(\n      [],\n      this.options.styleSpec?.['fill-color'] as any[],\n    );\n\n    if (colorRange) {\n      this.colorRange = colorRange;\n    }\n\n    if (data) {\n      this.colorRampTexture = createTexture(\n        this.gl,\n        this.gl.NEAREST,\n        data,\n        16,\n        16,\n      );\n    }\n  }\n\n  public initialize(gl: WebGLRenderingContext) {\n    if (!this.drawCommand) {\n      if (this.options.renderForm === 'rg') {\n        this.drawCommand = new WindFill(\n          gl,\n          undefined,\n          undefined,\n          this.options.injectShaderModules,\n        );\n      } else if (this.options.renderForm === 'r') {\n        this.drawCommand = new Fill(\n          gl,\n          undefined,\n          undefined,\n          this.options.injectShaderModules,\n        );\n      } else {\n        console.warn('This type is not supported temporarily');\n      }\n    }\n\n    this.buildColorRamp();\n\n    if (typeof this.options.getZoom === 'function') {\n      this.setOpacity(\n        createZoom(\n          this.uid,\n          this.options.getZoom(),\n          'opacity',\n          this.options.styleSpec,\n        ),\n      );\n    }\n  }\n\n  public initializeVertex(coordinates: number[][]) {\n    let i = 0;\n    const len = coordinates.length;\n    const points: [number, number][] = [];\n    for (; i < len; i++) {\n      const coords = coordinates[i];\n      const mc = this.getMercatorCoordinate(coords as [number, number]);\n      points.push([mc[0], mc[1]]);\n    }\n\n    // @ts-ignore\n    const buffers = (\n      this.options.createPlaneBuffer || defaultOptions.createPlaneBuffer\n    )(\n      points,\n      (this.options.widthSegments as number) || 1,\n      (this.options.heightSegments as number) || 1,\n    );\n\n    return {\n      indexes: buffers.elements.data,\n      wireframeIndexes: buffers.wireframeElements.data,\n      quadBuffer: createBuffer(\n        this.gl,\n        new Float32Array(buffers.position.data),\n      ),\n      quad64LowBuffer: createBuffer(\n        this.gl,\n        new Float32Array(buffers.positionLow.data),\n      ),\n      texCoordBuffer: createBuffer(this.gl, new Float32Array(buffers.uvs.data)),\n    };\n  }\n\n  public getTextureData(data: IJsonArrayData | IImageData): Promise<IData> {\n    return new Promise((resolve, reject) => {\n      if (data.type === 'image' && data.url) {\n        loadImage(data.url)\n          .then((image) => {\n            // this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, true);\n            const processedData: IData = {\n              width: image.width,\n              height: image.height,\n              texture: createTexture(\n                this.gl,\n                this.gl.LINEAR,\n                image,\n                image.width,\n                image.height,\n              ),\n              ...this.initializeVertex(data.extent),\n            };\n\n            if (this.options.renderForm === 'rg') {\n              processedData.uMin = data.uMin;\n              processedData.uMax = data.uMax;\n              processedData.vMin = data.vMin;\n              processedData.vMax = data.vMax;\n            } else if (this.options.renderForm === 'r') {\n              processedData.min = data.min;\n              processedData.max = data.max;\n            } else {\n              console.warn('This type is not supported temporarily');\n            }\n\n            resolve(processedData);\n          })\n          .catch((error) => reject(error));\n      } else if (data.type === 'jsonArray' && data.data) {\n        const gfsData = data.data;\n        let pos;\n        if (data.extent) {\n          // tip: fix extent\n          pos = data.extent;\n        } else {\n          pos = [\n            [gfsData[0].header.lo1, gfsData[0].header.la1],\n            [gfsData[0].header.lo1, gfsData[0].header.la2],\n            [gfsData[0].header.lo2, gfsData[0].header.la1],\n            [gfsData[0].header.lo2, gfsData[0].header.la2],\n          ];\n        }\n\n        const processedData: IData = {\n          width: gfsData[0].header.nx,\n          height: gfsData[0].header.ny,\n          ...this.initializeVertex(pos),\n        };\n\n        if (!this.worker) {\n          this.worker = new DataProcess();\n          this.worker.addEventListener('message', ({ data: payload }: any) => {\n            if (this.options.renderForm === 'rg') {\n              processedData.uMin = payload[1];\n              processedData.uMax = payload[2];\n              processedData.vMin = payload[3];\n              processedData.vMax = payload[4];\n              processedData.texture = createTexture(\n                this.gl,\n                this.gl.LINEAR,\n                new Uint8Array(payload[0]),\n                processedData.width,\n                processedData.height,\n              );\n            } else if (this.options.renderForm === 'r') {\n              processedData.min = payload[1];\n              processedData.max = payload[2];\n              processedData.texture = createTexture(\n                this.gl,\n                this.gl.LINEAR,\n                new Uint8Array(payload[0]),\n                processedData.width,\n                processedData.height,\n              );\n            } else {\n              console.warn('This type is not supported temporarily');\n            }\n\n            resolve(processedData);\n          });\n        }\n\n        if (this.options.renderForm === 'rg') {\n          let uComp: IGFSItem;\n          let vComp: IGFSItem;\n\n          // if ((process.env.NODE_ENV as string) === ('development' as string)) {\n          //   console.time('format-data');\n          // }\n\n          gfsData.forEach((record: IGFSItem) => {\n            switch (\n              record.header.parameterCategory +\n              ',' +\n              record.header.parameterNumber\n            ) {\n              case '1,2':\n              case '2,2':\n                uComp = record;\n                break;\n              case '1,3':\n              case '2,3':\n                vComp = record;\n                break;\n            }\n          });\n\n          // @ts-ignore\n          const u = new Float32Array(uComp.data);\n          // @ts-ignore\n          const v = new Float32Array(vComp.data);\n          this.worker.postMessage(['rg', u, v]); // TIP: 需要确定transfer是否支持多个\n        } else if (this.options.renderForm === 'r') {\n          // processedData.min = data.min;\n          // processedData.max = data.max;\n          const singleData = new Float32Array(gfsData[0].data);\n          this.worker.postMessage(['r', singleData]);\n        } else {\n          console.warn('This type is not supported temporarily');\n        }\n      }\n    });\n  }\n\n  public setData(\n    data: IJsonArrayData | IImageData,\n    cb?: (args?: boolean) => void,\n  ) {\n    if (this.gl && data) {\n      // Error Prevention\n      this.getTextureData(data)\n        .then((d) => {\n          this.data = d;\n\n          cb && cb(true);\n\n          if (this.data) {\n            this.initialize(this.gl);\n          }\n\n          if (this.options.triggerRepaint) {\n            this.handleZoom();\n            this.options.triggerRepaint();\n          }\n        })\n        .catch((error) => {\n          cb && cb(false);\n          console.error(error);\n        });\n    }\n  }\n\n  public getData() {\n    return this.data;\n  }\n\n  public getMercatorCoordinate([lng, lat]: [number, number]): [number, number] {\n    return [lng, lat];\n  }\n\n  public prerender() {}\n\n  public render(\n    matrix: number[],\n    offsetX?: number,\n    cameraParams?: {\n      cameraEye: number[];\n      cameraEye64Low: number[];\n    },\n  ) {\n    if (\n      this.data &&\n      this.drawCommand &&\n      this.data.texture &&\n      this.colorRampTexture\n    ) {\n      const opacity = this.opacity;\n\n      const uniforms: any = {\n        u_opacity: isNumber(opacity) ? opacity : 1,\n        u_image_res: [this.data.width, this.data.height],\n        u_matrix: matrix,\n        u_offset: isNumber(offsetX) ? offsetX : 0,\n        u_color_ramp: this.colorRampTexture,\n        u_color_range: this.colorRange,\n        u_mapping_range: this.options.mappingRange || [0, 0], // 映射高度\n      };\n\n      if (cameraParams) {\n        uniforms.u_cameraEye = cameraParams.cameraEye;\n        uniforms.u_cameraEye64Low = cameraParams.cameraEye64Low;\n      }\n\n      if (this.options.renderForm === 'rg') {\n        uniforms.u_wind_min = [this.data.uMin, this.data.vMin];\n        uniforms.u_wind_max = [this.data.uMax, this.data.vMax];\n        uniforms.u_wind = this.data.texture;\n        const speeds = [\n          Math.sqrt(\n            // @ts-ignore\n            this.data.uMin * this.data.uMin + this.data.vMin * this.data.vMin,\n          ),\n          Math.sqrt(\n            // @ts-ignore\n            this.data.uMin * this.data.uMin + this.data.vMax * this.data.vMax,\n          ),\n          Math.sqrt(\n            // @ts-ignore\n            this.data.uMax * this.data.uMax + this.data.vMax * this.data.vMax,\n          ),\n          Math.sqrt(\n            // @ts-ignore\n            this.data.uMax * this.data.uMax + this.data.vMin * this.data.vMin,\n          ),\n        ];\n        const min = 0;\n        const max = Math.max(...speeds);\n        uniforms.u_display_range = this.options.displayRange || [min, max];\n      } else if (this.options.renderForm === 'r') {\n        uniforms.u_range = [this.data.min, this.data.max];\n        uniforms.u_image = this.data.texture;\n        // 如果不指定，使用数据范围，并简单做一个数据 buffer\n        uniforms.u_display_range = this.options.displayRange || [\n          uniforms.u_range[0] - 1,\n          uniforms.u_range[1] + 1,\n        ];\n      } else {\n        console.warn('This type is not supported temporarily');\n      }\n\n      const depthEnabled = this.gl.isEnabled(this.gl.DEPTH_TEST);\n      this.gl.enable(this.gl.DEPTH_TEST);\n      this.gl.depthMask(true);\n      this.gl.depthFunc(this.gl.LEQUAL);\n\n      const data = this.options.wireframe\n        ? this.data.wireframeIndexes\n        : this.data.indexes;\n\n      this.drawCommand\n        .active()\n        // .resize()\n        .setUniforms(uniforms)\n        .setAttributes({\n          instancePositions: {\n            buffer: this.data.quadBuffer,\n            numComponents: 3,\n          },\n          instancePositions64Low: {\n            buffer: this.data.quad64LowBuffer,\n            numComponents: 3,\n          },\n          a_texCoord: {\n            buffer: this.data.texCoordBuffer,\n            numComponents: 2,\n          },\n        })\n        .elements({\n          data: new Uint32Array(data as number[]),\n          primitive: this.options.wireframe ? this.gl.LINES : this.gl.TRIANGLES,\n          count: data?.length,\n          usage: this.gl.STATIC_DRAW,\n        })\n        .draw();\n\n      if (!depthEnabled) {\n        this.gl.disable(this.gl.DEPTH_TEST);\n      }\n    }\n  }\n\n  public postrender() {}\n\n  public destroyData() {\n    if (this.data) {\n      // const {\n      //   texture,\n      //   quadBuffer,\n      //   quad64LowBuffer,\n      //   texCoordBuffer,\n      // } = this.data;\n      // if (texture) {\n      //   this.gl.deleteTexture(texture);\n      // }\n      // if (quadBuffer) {\n      //   this.gl.deleteBuffer(quadBuffer);\n      // }\n      //\n      // if (quad64LowBuffer) {\n      //   this.gl.deleteBuffer(quad64LowBuffer);\n      // }\n      //\n      // if (texCoordBuffer) {\n      //   this.gl.deleteBuffer(texCoordBuffer);\n      // }\n      // delete this.data;\n    }\n  }\n\n  public destroyed() {\n    this.destroyData();\n    if (this.worker) {\n      this.worker.terminate();\n    }\n  }\n}\n","export interface IOptions {\n  callback: (time: number) => void;\n}\n\nconst defaultOptions = {\n  callback: () => void 0,\n};\n\nexport class Raf {\n  public options: IOptions;\n  private raf: number;\n  private animating: boolean;\n  private isVisible: boolean;\n\n  constructor(options: Partial<IOptions> = {}) {\n    this.options = {\n      ...defaultOptions,\n      ...options,\n    };\n\n    this.reset();\n\n    this.animate = this.animate.bind(this);\n    this.onVisibilityChange = this.onVisibilityChange.bind(this);\n  }\n\n  public reset() {\n    this.animating = false;\n    this.isVisible = true;\n    if (this.raf !== undefined) {\n      cancelAnimationFrame(this.raf);\n    }\n  }\n\n  public start() {\n    if (this.animating) {\n      return;\n    }\n    this.animating = true;\n    document.addEventListener(\n      'visibilitychange',\n      this.onVisibilityChange,\n      false,\n    );\n    this.raf = requestAnimationFrame(this.animate);\n  }\n\n  public stop() {\n    this.reset();\n    document.removeEventListener(\n      'visibilitychange',\n      this.onVisibilityChange,\n      false,\n    );\n  }\n\n  private animate() {\n    if (!this.animating || !this.isVisible) {\n      return;\n    }\n    this.options.callback((performance || Date).now());\n    this.raf = requestAnimationFrame(this.animate);\n  }\n\n  private onVisibilityChange() {\n    this.isVisible = !document.hidden;\n\n    if (this.isVisible) {\n      this.reset();\n      this.start();\n    }\n  }\n}\n","import Base from './Base';\nimport drawFrag from './shaders/particles/draw.frag.glsl';\nimport drawVert from './shaders/particles/draw.vert.glsl';\nimport screenFrag from './shaders/particles/screen.frag.glsl';\nimport screenVert from './shaders/particles/screen.vert.glsl';\nimport updateFrag from './shaders/particles/update.frag.glsl';\nimport updateVert from './shaders/particles/update.vert.glsl';\n\nimport {\n  bindFramebuffer,\n  clearScene,\n  createBuffer,\n  createTexture,\n  loadImage,\n  resizeFramebuffer,\n  resizeTexture,\n  updateBufferData,\n} from './utils/gl-utils';\nimport { Raf } from './utils/raf';\nimport { createLinearGradient, createZoom } from './utils/style-parser';\n\nexport interface IWindOptions {\n  opacity: number;\n  fadeOpacity: number;\n  speedFactor: number;\n  dropRate: number;\n  dropRateBump: number;\n  lineWidth: number;\n  visible?: boolean;\n  styleSpec?: {\n    color: any[];\n    opacity: number | any[];\n    numParticles: number | any[];\n  };\n  getZoom: () => number;\n  triggerRepaint?: () => void;\n  getSize: () => [number, number];\n  getExtent: () => [number, number, number, number];\n  interacting: () => boolean;\n  getWorlds: () => number[];\n}\n\nexport interface IImageData {\n  type: 'image';\n  url: string;\n  extent: Array<[number, number]>;\n  uMin?: number;\n  uMax?: number;\n  vMin?: number;\n  vMax?: number;\n  min?: number;\n  max?: number;\n  nodata?: number;\n}\n\nexport interface IData {\n  width: number;\n  height: number;\n  uMin?: number;\n  uMax?: number;\n  vMin?: number;\n  vMax?: number;\n  min?: number;\n  max?: number;\n  nodata?: number;\n  texCoordBuffer: WebGLBuffer | null;\n  quadBuffer: WebGLBuffer | null;\n  buffer: WebGLBuffer | null;\n  backgroundBuffer: WebGLBuffer | null;\n  backgroundTexCoordBuffer: WebGLBuffer | null;\n  texture?: WebGLTexture | null;\n}\n\nexport const defaultOptions = {\n  styleSpec: {\n    color: [\n      'interpolate',\n      ['linear'],\n      ['get', 'value'],\n      0.0,\n      '#fff',\n      100.0,\n      '#fff',\n    ],\n    opacity: 1,\n    numParticles: 65535,\n  },\n  opacity: 1,\n  lineWidth: 2,\n  speedFactor: 1,\n  fadeOpacity: 0.93,\n  dropRate: 0.003,\n  dropRateBump: 0.002,\n};\n\nlet uid = 0;\n\nexport default class WindParticles {\n  public gl: WebGLRenderingContext;\n\n  public data: IData;\n\n  private privateNumParticles: number;\n\n  private particleStateResolution: number;\n\n  private currentParticleStateTexture: WebGLTexture | null;\n\n  private nextParticleStateTexture: WebGLTexture | null;\n\n  private particleIndexBuffer: WebGLBuffer | null;\n\n  private backgroundTexture: WebGLTexture | null;\n\n  private screenTexture: WebGLTexture | null;\n\n  private drawCommand: Base;\n  private updateCommand: Base;\n  private screenCommand: Base;\n  private raf: Raf;\n  private fbo: WebGLFramebuffer | null;\n  private colorRampTexture: WebGLTexture | null;\n\n  private options: IWindOptions;\n  private opacity: number;\n  private colorRange: [number, number];\n  private size: number[];\n  private renderExtent: number[];\n  private visible: boolean;\n  private alpha: number;\n\n  private frameTime: number;\n  private lastTime: number;\n  private readonly uid: string;\n  constructor(\n    gl: WebGLRenderingContext,\n    // tslint:disable-next-line:no-object-literal-type-assertion\n    options: IWindOptions = {} as IWindOptions,\n  ) {\n    this.gl = gl;\n\n    this.uid = `WindParticles_${uid}`;\n    uid++;\n\n    if (!this.gl) {\n      throw new Error('initialize error');\n    }\n\n    this.options = {\n      ...defaultOptions,\n      ...options,\n    };\n\n    this.opacity = this.options.opacity || 1;\n    this.visible = this.options.visible !== undefined || true;\n    this.alpha = 0.9;\n    this.frameTime = 0;\n    this.lastTime = 0;\n\n    this.initialize(this.gl);\n  }\n\n  public initialize(gl: WebGLRenderingContext) {\n    this.drawCommand = new Base(gl, drawVert, drawFrag);\n    this.drawCommand.draw = function() {\n      this.gl.drawArrays(this.primitive, 0, this.count);\n    };\n    this.updateCommand = new Base(gl, updateVert, updateFrag);\n    this.updateCommand.draw = function() {\n      this.gl.drawArrays(this.primitive, 0, 4);\n    };\n    this.screenCommand = new Base(gl, screenVert, screenFrag);\n    this.screenCommand.draw = function() {\n      this.gl.drawArrays(this.primitive, 0, 4);\n    };\n\n    this.fbo = gl.createFramebuffer();\n\n    this.raf = new Raf({\n      callback: () => {\n        if (this.options.triggerRepaint) {\n          this.options.triggerRepaint();\n        }\n      },\n    });\n\n    this.resize();\n\n    this.buildColorRamp();\n\n    if (typeof this.options.getZoom === 'function') {\n      const zoom = this.options.getZoom();\n      this.setOpacity(\n        createZoom(this.uid, zoom, 'opacity', this.options.styleSpec),\n      );\n\n      this.numParticles = createZoom(\n        this.uid,\n        zoom,\n        'numParticles',\n        this.options.styleSpec,\n      );\n    }\n\n    this.start();\n  }\n\n  set numParticles(numParticles: number) {\n    if (numParticles === undefined) {\n      return;\n    }\n    const gl = this.gl;\n    // we create a square texture where each pixel will hold a particle position encoded as RGBA\n    const particleRes = Math.ceil(Math.sqrt(numParticles));\n    this.particleStateResolution = particleRes;\n    this.privateNumParticles = particleRes * particleRes;\n\n    const particleState = new Uint8Array(this.privateNumParticles * 4);\n    for (let i = 0; i < particleState.length; i++) {\n      // randomize the initial particle positions\n      particleState[i] = Math.floor(Math.random() * 256);\n    }\n    if (!this.currentParticleStateTexture) {\n      // textures to hold the particle state for the current and the next frame\n      this.currentParticleStateTexture = createTexture(\n        gl,\n        gl.NEAREST,\n        particleState,\n        particleRes,\n        particleRes,\n      );\n    } else {\n      resizeTexture(\n        gl,\n        this.currentParticleStateTexture,\n        particleRes,\n        particleRes,\n        particleState,\n      );\n    }\n    if (!this.nextParticleStateTexture) {\n      this.nextParticleStateTexture = createTexture(\n        gl,\n        gl.NEAREST,\n        particleState,\n        particleRes,\n        particleRes,\n      );\n    } else {\n      resizeTexture(\n        gl,\n        this.nextParticleStateTexture,\n        particleRes,\n        particleRes,\n        particleState,\n      );\n    }\n    const num = this.privateNumParticles * 6;\n    const particleIndices = new Float32Array(num);\n    for (let i = 0; i < num; i++) {\n      particleIndices[i] = i;\n    }\n    if (!this.particleIndexBuffer) {\n      this.particleIndexBuffer = createBuffer(gl, particleIndices);\n    } else {\n      updateBufferData(gl, this.particleIndexBuffer, particleIndices);\n    }\n  }\n\n  get numParticles() {\n    return this.privateNumParticles;\n  }\n\n  public updateOptions(options: Partial<IWindOptions>) {\n    const styleSpec = (options.styleSpec || {}) as {\n      color: any[];\n      opacity: number | any[];\n      numParticles: number | any[];\n    };\n    this.options = {\n      ...this.options,\n      ...options,\n      styleSpec: {\n        ...this.options.styleSpec,\n        ...styleSpec,\n      },\n    };\n\n    this.buildColorRamp();\n\n    if (typeof this.options.getZoom === 'function') {\n      const zoom = this.options.getZoom();\n      this.setOpacity(\n        createZoom(this.uid, zoom, 'opacity', this.options.styleSpec, true),\n      );\n\n      this.numParticles = createZoom(\n        this.uid,\n        zoom,\n        'numParticles',\n        this.options.styleSpec,\n        true,\n      );\n    }\n  }\n\n  public setOpacity(opacity: number) {\n    this.opacity = opacity;\n  }\n\n  public getOpacity() {\n    return this.opacity;\n  }\n\n  public handleMoveend() {\n    this.updateRenderState();\n    clearScene(this.gl, [0, 0, 0, 0]);\n  }\n\n  public handleMovestart() {\n    this.alpha = 0.0;\n  }\n\n  public handleZoom() {\n    if (typeof this.options.getZoom === 'function') {\n      const zoom = this.options.getZoom();\n      this.setOpacity(\n        createZoom(this.uid, zoom, 'opacity', this.options.styleSpec),\n      );\n\n      this.numParticles = createZoom(\n        this.uid,\n        zoom,\n        'numParticles',\n        this.options.styleSpec,\n      );\n    }\n  }\n\n  public buildColorRamp() {\n    const { data, colorRange } = createLinearGradient(\n      [],\n      this.options.styleSpec?.color as any[],\n    );\n\n    if (colorRange) {\n      this.colorRange = colorRange;\n    }\n\n    if (data) {\n      this.colorRampTexture = createTexture(\n        this.gl,\n        this.gl.NEAREST,\n        data,\n        16,\n        16,\n      );\n    }\n  }\n\n  public drawTexture(matrix: number[]) {\n    if (this.fbo && this.screenTexture && this.nextParticleStateTexture) {\n      bindFramebuffer(this.gl, this.fbo, this.screenTexture);\n\n      const depthEnabled = this.gl.isEnabled(this.gl.DEPTH_TEST);\n      const blendingEnabled = this.gl.isEnabled(this.gl.BLEND);\n      this.gl.disable(this.gl.DEPTH_TEST);\n      this.gl.disable(this.gl.BLEND);\n      this.screenCommand\n        .active()\n        .resize(...this.size)\n        .setUniforms({\n          u_screen: this.backgroundTexture,\n          u_opacity: this.options.fadeOpacity,\n          u_fade: 1,\n        })\n        .setAttributes({\n          a_pos: {\n            buffer: this.data.backgroundBuffer,\n            numComponents: 2,\n          },\n          a_tex_pos: {\n            buffer: this.data.backgroundTexCoordBuffer,\n            numComponents: 2,\n          },\n        })\n        .setPrimitive(this.gl.TRIANGLE_STRIP)\n        .draw();\n      if (depthEnabled) {\n        this.gl.enable(this.gl.DEPTH_TEST);\n      }\n      if (blendingEnabled) {\n        this.gl.enable(this.gl.BLEND);\n      }\n\n      this.drawParticles(matrix);\n\n      bindFramebuffer(this.gl, null);\n\n      [this.backgroundTexture, this.screenTexture] = [\n        this.screenTexture,\n        this.backgroundTexture,\n      ];\n    }\n  }\n\n  public drawScreen() {\n    const depthEnabled = this.gl.isEnabled(this.gl.DEPTH_TEST);\n    const blendingEnabled = this.gl.isEnabled(this.gl.BLEND);\n    this.gl.disable(this.gl.DEPTH_TEST);\n    this.gl.enable(this.gl.BLEND);\n    this.gl.blendColor(0, 0, 0, 0);\n    this.gl.blendFunc(this.gl.ONE, this.gl.ONE_MINUS_SRC_ALPHA);\n    this.screenCommand\n      .active()\n      .resize()\n      .setUniforms({\n        u_screen: this.screenTexture,\n        u_opacity: this.visible ? this.opacity : 0,\n        u_fade: this.alpha,\n      })\n      .setAttributes({\n        a_pos: {\n          buffer: this.data.buffer,\n          numComponents: 2,\n        },\n        a_tex_pos: {\n          buffer: this.data.texCoordBuffer,\n          numComponents: 2,\n        },\n      })\n      .setPrimitive(this.gl.TRIANGLE_STRIP)\n      .draw();\n    if (depthEnabled) {\n      this.gl.enable(this.gl.DEPTH_TEST);\n    }\n    if (!blendingEnabled) {\n      this.gl.disable(this.gl.BLEND);\n    }\n  }\n\n  public updateParticles() {\n    if (\n      this.fbo &&\n      this.currentParticleStateTexture &&\n      this.nextParticleStateTexture\n    ) {\n      bindFramebuffer(this.gl, this.fbo, this.nextParticleStateTexture);\n      const timeScale = this.options.speedFactor * 2.5;\n      const depthEnabled = this.gl.isEnabled(this.gl.DEPTH_TEST);\n      const blendingEnabled = this.gl.isEnabled(this.gl.BLEND);\n      this.gl.disable(this.gl.DEPTH_TEST);\n      this.gl.disable(this.gl.BLEND);\n      this.updateCommand\n        .active()\n        .resize(this.particleStateResolution, this.particleStateResolution)\n        .setUniforms({\n          u_wind_res: [this.data.width, this.data.height],\n          u_rand_seed: Math.random(),\n          u_wind_range: [\n            this.data.uMin,\n            this.data.uMax,\n            this.data.vMin,\n            this.data.vMax,\n          ],\n          u_drop_rate: this.options.dropRate,\n          u_drop_rate_bump: this.options.dropRateBump,\n          u_speed_factor: [\n            (timeScale * this.frameTime) / this.size[0],\n            (timeScale * this.frameTime) / this.size[1],\n          ],\n          u_wind: this.data.texture,\n          u_bbox: this.renderExtent,\n          nodata: this.data.nodata,\n          u_particles: this.currentParticleStateTexture,\n        })\n        .setAttributes({\n          a_pos: {\n            buffer: this.data.quadBuffer,\n            numComponents: 2,\n          },\n        })\n        .setPrimitive(this.gl.TRIANGLE_STRIP)\n        .draw();\n      if (depthEnabled) {\n        this.gl.enable(this.gl.DEPTH_TEST);\n      }\n      if (blendingEnabled) {\n        this.gl.enable(this.gl.BLEND);\n      }\n      // bindFramebuffer(this.gl, null);\n      // swap the particle state textures so the new one becomes the current one\n      [this.currentParticleStateTexture, this.nextParticleStateTexture] = [\n        this.nextParticleStateTexture,\n        this.currentParticleStateTexture,\n      ];\n    }\n  }\n\n  public drawParticles(matrix: number[]) {\n    if (\n      this.particleIndexBuffer &&\n      this.currentParticleStateTexture &&\n      this.nextParticleStateTexture\n    ) {\n      const depthEnabled = this.gl.isEnabled(this.gl.DEPTH_TEST);\n      const blendingEnabled = this.gl.isEnabled(this.gl.BLEND);\n      this.gl.disable(this.gl.DEPTH_TEST);\n      this.gl.disable(this.gl.BLEND);\n      const zoom = this.options.getZoom();\n      const worlds = this.options.getWorlds();\n      for (let i = 0; i < worlds.length; i++) {\n        this.drawCommand\n          .active()\n          .setUniforms({\n            u_width: this.options.lineWidth,\n            u_world: this.size,\n            u_matrix: matrix,\n            u_zoom: zoom,\n            u_bbox: this.renderExtent,\n            u_offset: worlds[i],\n            u_wind: this.data.texture,\n            u_wind_res: [this.data.width, this.data.height],\n            u_wind_range: [\n              this.data.uMin,\n              this.data.uMax,\n              this.data.vMin,\n              this.data.vMax,\n            ],\n            u_color_ramp: this.colorRampTexture,\n            u_color_range: this.colorRange,\n            u_aspectRatio: this.size[0] / this.size[1],\n            u_particles_current: this.currentParticleStateTexture,\n            u_particles_next: this.nextParticleStateTexture,\n            u_particles_res: this.particleStateResolution,\n          })\n          .setAttributes({\n            a_index: {\n              buffer: this.particleIndexBuffer,\n              numComponents: 1,\n            },\n          })\n          .setPrimitive(this.gl.TRIANGLES)\n          .runTimes(this.particleStateResolution ** 2 * 6)\n          .draw();\n      }\n\n      if (blendingEnabled) {\n        this.gl.enable(this.gl.BLEND);\n      }\n\n      if (depthEnabled) {\n        this.gl.enable(this.gl.DEPTH_TEST);\n      }\n    }\n  }\n\n  public updateRenderState() {\n    this.renderExtent = this.options.getExtent();\n  }\n\n  public resize() {\n    const gl = this.gl;\n    this.size = this.options.getSize();\n    this.updateRenderState();\n    const emptyPixels = new Uint8Array(this.size[0] * this.size[1] * 4);\n    // screen textures to hold the drawn screen for the previous and the current frame\n    if (!this.backgroundTexture) {\n      this.backgroundTexture = createTexture(\n        gl,\n        gl.NEAREST,\n        emptyPixels,\n        this.size[0],\n        this.size[1],\n      );\n    } else {\n      resizeTexture(\n        gl,\n        this.backgroundTexture,\n        this.size[0],\n        this.size[1],\n        emptyPixels,\n      );\n    }\n    if (!this.screenTexture) {\n      this.screenTexture = createTexture(\n        gl,\n        gl.NEAREST,\n        emptyPixels,\n        this.size[0],\n        this.size[1],\n      );\n    } else {\n      resizeTexture(\n        gl,\n        this.screenTexture,\n        this.size[0],\n        this.size[1],\n        emptyPixels,\n      );\n    }\n    if (this.fbo) {\n      resizeFramebuffer(\n        gl,\n        this.fbo,\n        this.size[0],\n        this.size[1],\n        this.screenTexture as any,\n      );\n    }\n  }\n\n  public start() {\n    this.raf.start();\n    if (this.options.triggerRepaint) {\n      this.options.triggerRepaint();\n    }\n  }\n\n  public stop() {\n    this.raf.stop();\n    clearScene(this.gl, [0, 0, 0, 0]);\n    if (this.options.triggerRepaint) {\n      this.options.triggerRepaint();\n    }\n  }\n\n  public prerender(matrix: number[]) {\n    if (this.data) {\n      this.updateParticles();\n      this.drawTexture(matrix);\n\n      const now = 0.001 * Date.now();\n      this.frameTime = Math.min(now - (this.lastTime || 0), 0.05);\n      this.lastTime = now;\n    }\n  }\n\n  public render() {\n    if (this.data) {\n      if (this.options.interacting()) {\n        if (this.alpha < 1) {\n          this.alpha += 3 * this.frameTime;\n\n          if (this.alpha > 1 || !this.frameTime) {\n            this.alpha = 1;\n          }\n        }\n      }\n      this.drawScreen();\n    }\n    return this;\n  }\n\n  public initializeVertex(coordinates: number[][]) {\n    let i = 0;\n    const len = coordinates.length;\n    const instancePositions = new Float32Array(len * 2);\n    for (; i < len; i++) {\n      const coords = coordinates[i];\n      const mc = this.getMercatorCoordinate(coords as [number, number]);\n      instancePositions[i * 2] = mc[0];\n      instancePositions[i * 2 + 1] = mc[1];\n    }\n\n    return {\n      quadBuffer: createBuffer(\n        this.gl,\n        new Float32Array([0.0, 0.0, 0.0, 1.0, 1.0, 0.0, 1.0, 1.0]),\n      ),\n      buffer: createBuffer(this.gl, instancePositions),\n      texCoordBuffer: createBuffer(\n        this.gl,\n        new Float32Array([0.0, 0.0, 0.0, 1.0, 1.0, 0.0, 1.0, 1.0]),\n      ),\n      backgroundBuffer: createBuffer(\n        this.gl,\n        new Float32Array([0.0, 0.0, 0.0, 1.0, 1.0, 0.0, 1.0, 1.0]),\n      ),\n      backgroundTexCoordBuffer: createBuffer(\n        this.gl,\n        new Float32Array([0.0, 0.0, 0.0, 1.0, 1.0, 0.0, 1.0, 1.0]),\n      ),\n    };\n  }\n\n  public getTextureData(data: IImageData): Promise<IData> {\n    return new Promise((resolve, reject) => {\n      if (data.type === 'image' && data.url) {\n        loadImage(data.url)\n          .then((image) => {\n            const processedData: IData = {\n              width: image.width,\n              height: image.height,\n              texture: createTexture(\n                this.gl,\n                this.gl.LINEAR,\n                image,\n                image.width,\n                image.height,\n              ),\n              nodata: data.nodata || 0,\n              ...this.initializeVertex(data.extent),\n            };\n\n            processedData.uMin = data.uMin;\n            processedData.uMax = data.uMax;\n            processedData.vMin = data.vMin;\n            processedData.vMax = data.vMax;\n\n            resolve(processedData);\n          })\n          .catch((error) => reject(error));\n      }\n    });\n  }\n\n  public setData(data: IImageData, cb?: (args?: boolean) => void) {\n    if (this.gl && data) {\n      // Error Prevention\n      this.getTextureData(data)\n        .then((d) => {\n          this.data = d;\n\n          cb && cb(true);\n\n          if (this.options.triggerRepaint) {\n            this.options.triggerRepaint();\n          }\n        })\n        .catch((error) => {\n          cb && cb(false);\n          console.error(error);\n        });\n    }\n  }\n\n  public getData() {\n    return this.data;\n  }\n\n  public getMercatorCoordinate([lng, lat]: [number, number]): [number, number] {\n    return [lng, lat];\n  }\n\n  public destroyData() {\n    if (this.data) {\n      const {\n        texture,\n        quadBuffer,\n        buffer,\n        texCoordBuffer,\n        backgroundBuffer,\n        backgroundTexCoordBuffer,\n      } = this.data;\n      if (texture) {\n        this.gl.deleteTexture(texture);\n      }\n      if (buffer) {\n        this.gl.deleteBuffer(buffer);\n      }\n      if (quadBuffer) {\n        this.gl.deleteBuffer(quadBuffer);\n      }\n\n      if (texCoordBuffer) {\n        this.gl.deleteBuffer(texCoordBuffer);\n      }\n      if (backgroundBuffer) {\n        this.gl.deleteBuffer(backgroundBuffer);\n      }\n      if (backgroundTexCoordBuffer) {\n        this.gl.deleteBuffer(backgroundTexCoordBuffer);\n      }\n      // @ts-ignore\n      delete this.data;\n    }\n  }\n\n  public destroyed() {\n    this.stop();\n    if (this.currentParticleStateTexture) {\n      this.gl.deleteTexture(this.currentParticleStateTexture);\n      this.currentParticleStateTexture = null;\n    }\n    if (this.nextParticleStateTexture) {\n      this.gl.deleteTexture(this.nextParticleStateTexture);\n      this.nextParticleStateTexture = null;\n    }\n\n    if (this.backgroundTexture) {\n      this.gl.deleteTexture(this.backgroundTexture);\n      this.backgroundTexture = null;\n    }\n    if (this.screenTexture) {\n      this.gl.deleteTexture(this.screenTexture);\n      this.screenTexture = null;\n    }\n\n    if (this.fbo) {\n      this.gl.deleteFramebuffer(this.fbo);\n      this.fbo = null;\n    }\n    this.destroyData();\n  }\n}\n"],"names":["units","FillVert","FillFrag","defaultOptions","uid","DataProcess"],"mappings":"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"}